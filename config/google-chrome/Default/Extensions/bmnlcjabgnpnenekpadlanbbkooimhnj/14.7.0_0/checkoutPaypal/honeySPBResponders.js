(()=>{"use strict";var e={654:function(e,t,r){var n,i,s,o,a,c,u,f,l,h,d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostMessenger=void 0;const v=y(r(42)),w=r(614),m=r(982),b=r(68),E="AES-CBC";t.PostMessenger=class{constructor({clientName:e="unknown",enableLogging:t=!1,useEncryption:r=!0,maxResponseTime:u=1e4,types:f}){if(n.add(this),this.connection=null,i.set(this,void 0),s.set(this,{algorithm:null,iv:null,requestKey:null}),o.set(this,{}),this.targetWindow=null,this.targetOrigin=null,a.set(this,void 0),c.set(this,null),(0,v.default)(this),this.clientName=e,p(this,i,t,"f"),this.useEncryption=(e=!1,t)=>{const n=r&&t!==m.InternalMessageTypes.postMessengerConnect;if(n&&!this.connection&&e){const t=new Error(this.prefix("connection is required for encryption to work"));if("function"!=typeof e)throw t;e(t)}return n},this.maxResponseTime=u,f.postMessengerConnect)throw new Error(this.prefix("postMessengerConnect is a reserved message type."));p(this,a,Object.assign(Object.assign({},f),m.InternalMessageTypes),"f")}prefix(e){return`postMessenger: ${this.clientName} ${e}`}logger(...e){g(this,i,"f")&&("string"==typeof e[0]?console.log(this.prefix(e[0]),...e.slice(1)):console.log(...e))}getListeners(){return g(this,o,"f")}addListener(e,t){return g(this,o,"f")[e]?g(this,o,"f")[e].push(t):g(this,o,"f")[e]=[t],()=>this.removeListener(e,t)}removeListener(e,t){if(g(this,o,"f")[e]){const r=g(this,o,"f")[e].indexOf(t);r>-1&&g(this,o,"f")[e].splice(r,r+1)}}onReceiveMessage(e){if(e.data&&g(this,o,"f")[e.data.type]){if(g(this,c,"f")&&!g(this,c,"f").call(this,e.origin))return;g(this,o,"f")[e.data.type].forEach((t=>{t(e.data)}))}}request(e,t={},r={}){const i=g(this,a,"f")[e];if(!i)throw new Error(this.prefix(`Unable to find messageType for ${e}`));if(this.connection&&!this.connection.types[String(e)])throw new Error(this.prefix(`Connected client ${this.connection.clientName} does not have a matching message type for ${e} so this request will fail.`));return g(this,n,"m",l).call(this,i,t,r)}bindResponders(e){if(e.postMessengerConnect)throw new Error(this.prefix("postMessengerConnect is a reserved message type."));return g(this,n,"m",h).call(this,e)}connect({targetWindow:e,targetOrigin:t}){return d(this,void 0,void 0,(function*(){if(!e||!t)throw new Error(this.prefix("targetWindow and targetOrigin are required for connect"));this.setTarget(e,t),this.beginListening((e=>e===new URL(t).origin));let r=null,i=null;const o=this.useEncryption();return o&&(r=crypto.getRandomValues(new Uint8Array(16)),g(this,s,"f").requestKey=yield crypto.subtle.generateKey({length:256,name:E},!0,["encrypt","decrypt"]),i=yield crypto.subtle.exportKey("jwk",g(this,s,"f").requestKey),g(this,s,"f").iv=r,g(this,s,"f").algorithm={iv:r,name:E}),this.connection=yield g(this,n,"m",l).call(this,m.InternalMessageTypes.postMessengerConnect,{clientName:this.clientName,iv:r,jsonRequestKey:i,origin:window.location.origin,types:g(this,a,"f"),useEncryption:o}),!0}))}acceptConnections({allowAnyOrigin:e=!1,origin:t}){if(!e&&!t)throw new Error(this.prefix("allowAnyOrigin must be true if origin is not specified"));this.beginListening((e=>!t||e===t)),g(this,n,"m",h).call(this,{postMessengerConnect:e=>d(this,void 0,void 0,(function*(){if(this.setTarget(window.parent,e.origin),this.useEncryption()){if(!e.iv||!e.jsonRequestKey||!e.useEncryption)throw new Error(this.prefix("encryption is required but iv or jsonRequestKey or useEncryption were not provided in connection message."));this.connection={clientName:e.clientName,types:e.types,useEncryption:!0},g(this,s,"f").iv=new Uint8Array([...e.iv]),g(this,s,"f").algorithm={iv:g(this,s,"f").iv,name:E},g(this,s,"f").requestKey=yield crypto.subtle.importKey("jwk",e.jsonRequestKey,{name:E},!1,["encrypt","decrypt"])}return{clientName:this.clientName,types:e.types,useEncryption:!0}}))})}setTarget(e,t){if(!e||!t)throw new Error(this.prefix("targetWindow and targetWindow are required for setTarget"));this.targetWindow=e;const r=new URL(t);this.targetOrigin=r.origin}beginListening(e){p(this,c,e,"f"),window.addEventListener("message",this.onReceiveMessage)}stopListening(){window.removeEventListener("message",this.onReceiveMessage)}decrypt(e){return d(this,void 0,void 0,(function*(){if(!g(this,s,"f").algorithm||!g(this,s,"f").requestKey)throw new Error(this.prefix("encryptionValues must be set before calling decrpyt"));const t=(0,b.decodeBase64)(e),r=(0,b.str2ab)(t),n=yield crypto.subtle.decrypt(g(this,s,"f").algorithm,g(this,s,"f").requestKey,r),i=(new TextDecoder).decode(n);return JSON.parse(i)}))}encrypt(e){return d(this,void 0,void 0,(function*(){if(!g(this,s,"f").algorithm||!g(this,s,"f").requestKey)throw new Error(this.prefix("encryptionValues must be set before calling encrypt"));const t=(new TextEncoder).encode(JSON.stringify(e)),r=yield crypto.subtle.encrypt(g(this,s,"f").algorithm,g(this,s,"f").requestKey,t),n=(0,b.ab2str)(r);return(0,b.encodeBase64)(n)}))}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,n=new WeakSet,u=function(e={}){if(!this.targetWindow||!this.targetOrigin){const e=this.prefix("targetWindow has not been initialized, please ensure you call setTarget before calling beginListening");throw new Error(e)}this.targetWindow.postMessage(e,this.targetOrigin)},f=function(e,t,r,i){return d(this,void 0,void 0,(function*(){let s=r,o=i||null;this.useEncryption(!0,e)&&(s=yield this.encrypt(r),o&&(o=yield this.encrypt(o))),g(this,n,"m",u).call(this,{data:s,errorMessage:o,isError:Boolean(o),messageId:t,type:e})}))},l=function(e,t={},r={}){return d(this,void 0,void 0,(function*(){const i=(0,w.v4)();return this.logger(`sending request type '${e}' to '${this.targetOrigin}':`,t),yield g(this,n,"m",f).call(this,e,i,t),new Promise(((t,n)=>{let s=!1;const o=this.addListener(e,(r=>d(this,void 0,void 0,(function*(){if((0,m.isRequestMessage)(r)&&r.messageId===i)if(s=!0,o(),r.isError){let t=r.errorMessage;this.useEncryption(!0,e)&&r.errorMessage&&(t=yield this.decrypt(r.errorMessage));const i=this.prefix(`Responder for request type '${e}' to target '${this.targetOrigin}' failed with message: "${t}"`);n(new Error(i))}else{let i=r.data;if(this.useEncryption(!0,e)){if("string"!=typeof r.data){const t=this.prefix(`encryption is required but request received a non string data response for message: ${e}`);return void n(new Error(t))}i=yield this.decrypt(r.data)}t(i)}}))));setTimeout((()=>{if(!s){const t=this.prefix(`Time out waiting for target '${this.targetOrigin}' to respond to request, type '${e}'`);n(new Error(t)),o()}}),r.maxResponseTime||this.maxResponseTime)}))}))},h=function(e){const t=[];return Object.entries(e).forEach((([e,r])=>{const i=g(this,a,"f")[e],s=this.addListener(i,(e=>d(this,void 0,void 0,(function*(){if(!(0,m.isRequestMessage)(e)||!r)return;let{data:t}=e;try{if(this.useEncryption(!0,i)){if("string"!=typeof t)throw new Error(this.prefix("encryption is required but responder received a non string data response"));t=yield this.decrypt(t)}const s=yield r(t);this.logger(`responding to request type '${i}' from target '${this.targetOrigin}':`,s),g(this,n,"m",f).call(this,i,e.messageId,s)}catch(t){(0,m.isError)(t)?g(this,n,"m",f).call(this,i,e.messageId,{},t.message):g(this,n,"m",f).call(this,i,e.messageId,{},this.prefix("responder threw a non Error object"))}}))));t.push(s)})),()=>{this.logger("removing responders:",e),t.forEach((e=>e()))}}},982:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InternalMessageTypes=t.isRequestMessage=t.isError=void 0;t.isError=e=>Boolean(e.message);t.isRequestMessage=e=>Boolean(e&&"object"==typeof e&&!Array.isArray(e)&&"string"==typeof e.type&&"string"==typeof e.messageId&&"boolean"==typeof e.isError&&void 0!==e.errorMessage),function(e){e.postMessengerConnect="post-messenger-connect"}(t.InternalMessageTypes||(t.InternalMessageTypes={}))},68:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBase64=t.encodeBase64=t.str2ab=t.ab2str=void 0,t.ab2str=function(e){const t=Array.from(new Uint16Array(e));return String.fromCharCode.apply(null,t)},t.str2ab=function(e){const t=new ArrayBuffer(2*e.length),r=new Uint16Array(t);for(let t=0,n=e.length;t<n;t+=1)r[t]=e.charCodeAt(t);return t},t.encodeBase64=function(e){const t=new Uint16Array(e.length);for(let r=0;r<t.length;r++)t[r]=e.charCodeAt(r);return btoa(String.fromCharCode(...new Uint8Array(t.buffer)))},t.decodeBase64=function(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<r.length;e++)r[e]=t.charCodeAt(e);return String.fromCharCode(...new Uint16Array(r.buffer))}},42:e=>{e.exports=(e,{include:t,exclude:r}={})=>{const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(n):!r||!r.some(n)};for(const[t,r]of(e=>{const t=new Set;do{for(const r of Reflect.ownKeys(e))t.add([e,r])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===r||!n(r))continue;const i=Reflect.getOwnPropertyDescriptor(t,r);i&&"function"==typeof i.value&&(e[r]=e[r].bind(e))}return e}},614:(e,t,r)=>{var n;r.r(t),r.d(t,{NIL:()=>P,parse:()=>y,stringify:()=>f,v1:()=>g,v3:()=>x,v4:()=>R,v5:()=>I,validate:()=>a,version:()=>O});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"==typeof e&&o.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var l,h,d=0,p=0;const g=function(e,t,r){var n=t&&r||0,i=t||new Array(16),o=(e=e||{}).node||l,a=void 0!==e.clockseq?e.clockseq:h;if(null==o||null==a){var c=e.random||(e.rng||s)();null==o&&(o=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=h=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:p+1,y=u-d+(g-p)/1e4;if(y<0&&void 0===e.clockseq&&(a=a+1&16383),(y<0||u>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=u,p=g,h=a;var v=(1e4*(268435455&(u+=122192928e5))+g)%4294967296;i[n++]=v>>>24&255,i[n++]=v>>>16&255,i[n++]=v>>>8&255,i[n++]=255&v;var w=u/4294967296*1e4&268435455;i[n++]=w>>>8&255,i[n++]=255&w,i[n++]=w>>>24&15|16,i[n++]=w>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var m=0;m<6;++m)i[n+m]=o[m];return t||f(i)};const y=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function v(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(n),o.set(e,n.length),(o=r(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(var a=0;a<16;++a)i[s+a]=o[a];return i}return f(o)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function w(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function b(e,t,r,n,i,s){return m((o=m(m(t,e),m(n,s)))<<(a=i)|o>>>32-a,r);var o,a}function E(e,t,r,n,i,s,o){return b(t&r|~t&n,e,t,i,s,o)}function A(e,t,r,n,i,s,o){return b(t&n|r&~n,e,t,i,s,o)}function M(e,t,r,n,i,s,o){return b(t^r^n,e,t,i,s,o)}function T(e,t,r,n,i,s,o){return b(r^(t|~n),e,t,i,s,o)}const U=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(15&s),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[w(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=r,c=n,u=i,f=s;r=E(r,n,i,s,e[o],7,-680876936),s=E(s,r,n,i,e[o+1],12,-389564586),i=E(i,s,r,n,e[o+2],17,606105819),n=E(n,i,s,r,e[o+3],22,-1044525330),r=E(r,n,i,s,e[o+4],7,-176418897),s=E(s,r,n,i,e[o+5],12,1200080426),i=E(i,s,r,n,e[o+6],17,-1473231341),n=E(n,i,s,r,e[o+7],22,-45705983),r=E(r,n,i,s,e[o+8],7,1770035416),s=E(s,r,n,i,e[o+9],12,-1958414417),i=E(i,s,r,n,e[o+10],17,-42063),n=E(n,i,s,r,e[o+11],22,-1990404162),r=E(r,n,i,s,e[o+12],7,1804603682),s=E(s,r,n,i,e[o+13],12,-40341101),i=E(i,s,r,n,e[o+14],17,-1502002290),r=A(r,n=E(n,i,s,r,e[o+15],22,1236535329),i,s,e[o+1],5,-165796510),s=A(s,r,n,i,e[o+6],9,-1069501632),i=A(i,s,r,n,e[o+11],14,643717713),n=A(n,i,s,r,e[o],20,-373897302),r=A(r,n,i,s,e[o+5],5,-701558691),s=A(s,r,n,i,e[o+10],9,38016083),i=A(i,s,r,n,e[o+15],14,-660478335),n=A(n,i,s,r,e[o+4],20,-405537848),r=A(r,n,i,s,e[o+9],5,568446438),s=A(s,r,n,i,e[o+14],9,-1019803690),i=A(i,s,r,n,e[o+3],14,-187363961),n=A(n,i,s,r,e[o+8],20,1163531501),r=A(r,n,i,s,e[o+13],5,-1444681467),s=A(s,r,n,i,e[o+2],9,-51403784),i=A(i,s,r,n,e[o+7],14,1735328473),r=M(r,n=A(n,i,s,r,e[o+12],20,-1926607734),i,s,e[o+5],4,-378558),s=M(s,r,n,i,e[o+8],11,-2022574463),i=M(i,s,r,n,e[o+11],16,1839030562),n=M(n,i,s,r,e[o+14],23,-35309556),r=M(r,n,i,s,e[o+1],4,-1530992060),s=M(s,r,n,i,e[o+4],11,1272893353),i=M(i,s,r,n,e[o+7],16,-155497632),n=M(n,i,s,r,e[o+10],23,-1094730640),r=M(r,n,i,s,e[o+13],4,681279174),s=M(s,r,n,i,e[o],11,-358537222),i=M(i,s,r,n,e[o+3],16,-722521979),n=M(n,i,s,r,e[o+6],23,76029189),r=M(r,n,i,s,e[o+9],4,-640364487),s=M(s,r,n,i,e[o+12],11,-421815835),i=M(i,s,r,n,e[o+15],16,530742520),r=T(r,n=M(n,i,s,r,e[o+2],23,-995338651),i,s,e[o],6,-198630844),s=T(s,r,n,i,e[o+7],10,1126891415),i=T(i,s,r,n,e[o+14],15,-1416354905),n=T(n,i,s,r,e[o+5],21,-57434055),r=T(r,n,i,s,e[o+12],6,1700485571),s=T(s,r,n,i,e[o+3],10,-1894986606),i=T(i,s,r,n,e[o+10],15,-1051523),n=T(n,i,s,r,e[o+1],21,-2054922799),r=T(r,n,i,s,e[o+8],6,1873313359),s=T(s,r,n,i,e[o+15],10,-30611744),i=T(i,s,r,n,e[o+6],15,-1560198380),n=T(n,i,s,r,e[o+13],21,1309151649),r=T(r,n,i,s,e[o+4],6,-145523070),s=T(s,r,n,i,e[o+11],10,-1120210379),i=T(i,s,r,n,e[o+2],15,718787259),n=T(n,i,s,r,e[o+9],21,-343485551),r=m(r,a),n=m(n,c),i=m(i,u),s=m(s,f)}return[r,n,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(w(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};const x=v("v3",48,U);const R=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return f(n)};function C(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function S(e,t){return e<<t|e>>>32-t}const q=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=e[64*c+4*f]<<24|e[64*c+4*f+1]<<16|e[64*c+4*f+2]<<8|e[64*c+4*f+3];a[c]=u}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<o;++l){for(var h=new Uint32Array(80),d=0;d<16;++d)h[d]=a[l][d];for(var p=16;p<80;++p)h[p]=S(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var g=r[0],y=r[1],v=r[2],w=r[3],m=r[4],b=0;b<80;++b){var E=Math.floor(b/20),A=S(g,5)+C(E,y,v,w)+m+t[E]+h[b]>>>0;m=w,w=v,v=S(y,30)>>>0,y=g,g=A}r[0]=r[0]+g>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+w>>>0,r[4]=r[4]+m>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const I=v("v5",80,q),P="00000000-0000-0000-0000-000000000000";const O=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t=r(654);!function(e){e.SPBInit="checkout:SPBInit",e.memberUpgradeFacilitatorAccessToken="SPB:memberUpgradeFacilitatorAccessToken",e.payLaterUpgradeFacilitatorAccessToken="SPB:payLaterUpgradeFacilitatorAccessToken",e.guestUpgradeFacilitatorAccessToken="SPB:guestUpgradeFacilitatorAccessToken"}(e||(e={}));const n=function(e){const t={};return Object.keys(e).forEach((e=>{t[e]=e})),t}(e);var i=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const{currentScript:s}=document;!function(){i(this,void 0,void 0,(function*(){const r=window.exports.paymentSession(),o=r.getAvailableFundingSources()[0],a=new t.PostMessenger({clientName:`spb-${o}`,enableLogging:true,types:e});if(!s)return void console.error("honeySPBResponders currentScript is null");if(!s.dataset.iframeurl)return void console.error("honeySPBResponders data-iframeurl was not set on script element by honeySPBContent");const c=new URL(s.dataset.iframeurl);a.setTarget(window.parent,c.origin),a.beginListening((e=>e===c.origin));let u="memberUpgradeFacilitatorAccessToken";o===window.paypal.FUNDING.PAYLATER?u="payLaterUpgradeFacilitatorAccessToken":o===window.paypal.FUNDING.CARD&&(u="guestUpgradeFacilitatorAccessToken"),a.bindResponders({[u]:function(e){return i(this,void 0,void 0,(function*(){return yield r.upgradeFacilitatorAccessToken(e)}))}});try{yield a.request(n.SPBInit,{fundingSource:o})}catch(e){console.error("honeySPBResponders SPBInit request failed",e)}}))}()})()})();