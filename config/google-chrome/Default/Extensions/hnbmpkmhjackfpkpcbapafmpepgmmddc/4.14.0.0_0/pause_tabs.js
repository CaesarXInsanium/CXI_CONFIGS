insertOverlayPause();function insertOverlayPause(){removeElementsByClassPause("hl-pause-overlay");var overlay=document.createElement("div");overlay.className="hl-pause-overlay";document.getElementsByTagName("body")[0].appendChild(overlay);if("undefined"!==typeof pause_reasons&&pause_reasons.length)insertPromptPause(pause_reasons);else insertPromptPause()}function defaultMessage(){return[translationStrings.pause_messages.default]}function insertPromptPause(pause_reasons=defaultMessage()){removeElementsByClassPause("pause-prompt");const isCameraLaunching="undefined"!=typeof camera_relaunch&&camera_relaunch;let hl_logo=chrome.extension.getURL("/icon.png");let message="";pause_reasons.forEach((mess=>{message+=`<li style="font-size:17px;">${mess}</li>`}));var prompt=document.createElement("div");prompt.className="pause-prompt";prompt.innerHTML=`\n\t<div id="pause-container">\n\t    <div class="pause-header">\n\t\t\t<h2 style="font-size:30px; margin-bottom:30px;display:flex;align-items:center;">\n\t\t\t\t<img src="${hl_logo}" aria-label="header" style="margin: 4px 10px 2px 0;float:left;display:block;height:44px;" />${translationStrings.pause_exam.title}\n\t\t\t</h2>\n\t\t\t<ul>${message}</ul>\n\t\t\t${(_=>{if(isCameraLaunching&&(true==isExamTab||"undefined"!=typeof student_id))return`<button type="submit" class="button button-launch" style="display:block;margin:20px auto 0;cursor:pointer;background-color:green;width:14em;border-radius:3px;font-weight:bold;" tabindex="1" data-relaunch-webcam>${translationStrings.webcam.relaunch_button}</button>`;if(pause_reasons.includes(translationStrings.pausable_items.hamlet_message)&&true==isExamTab)return`<button type="submit" class="button button-launch" style="display:block;margin:20px auto 0;cursor:pointer;background-color:green;width:14em;border-radius:3px;font-weight:bold;" tabindex="1" data-relaunch-application>${translationStrings.webcam.relaunch_button}</button>`;return""})()}\n\t\t\t<div style="padding:0 30px;margin-top:20px;text-align:center;font-size:14px;font-weight:600;line-height:50px;background-color: rgb(238, 238, 238);">${translationStrings.support_bubble}</div>\n\t    </div>\n\t</div>\n\t`;document.getElementsByClassName("hl-pause-overlay")[0].appendChild(prompt);hideExamTools(isCameraLaunching);if(isCameraLaunching&&(true==isExamTab||"undefined"!=typeof student_id))document.querySelector("[data-relaunch-webcam]").addEventListener("click",(function(){chrome.storage.local.get(["lms_id","webcam_tab_id","session_id"],(function(storage){if(storage.webcam_tab_id)return chrome.runtime.sendMessage({message:"focus_webcam"});chrome.runtime.sendMessage({message:"webcam_launch",url:hl_url+"/webapp/camera",session_id:"undefined"!=typeof session_id?session_id:storage.session_id,lms_id:storage.lms_id??2,relaunch:1,current_url:window.location.hostname})}))}));if(pause_reasons.includes(translationStrings.pausable_items.hamlet_message)&&true==isExamTab)document.querySelector("[data-relaunch-application]").addEventListener("click",(function(){chrome.storage.local.get(["lms_id","webcam_tab_id","session_id"],(function(storage){if(storage.webcam_tab_id)return chrome.runtime.sendMessage({message:"relaunch_app_unlock"})}))}))}function removeElementsByClassPause(className){var elements=document.getElementsByClassName(className);while(elements.length>0)elements[0].parentNode.removeChild(elements[0])}function hideExamTools(isCameraLaunching=false){const examTools=document.getElementById("hl-exam-tools");if(!examTools)return;if(isCameraLaunching)examTools.classList.add("hl-exam-tools--camera-relaunching");examTools.classList.add("hl-exam-tools--exam-paused")}