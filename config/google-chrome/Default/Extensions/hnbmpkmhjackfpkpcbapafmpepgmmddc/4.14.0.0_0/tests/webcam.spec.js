chrome.extension=chrome.runtime;require("../webcam.js");describe("Webcam Events",(()=>{it("closes the camera window on exam submit",(()=>{const event={source:window,data:{type:"from_webcam",data:{event_type:"Exam Submit"}}};const messageEvent=new MessageEvent("message",event);window.dispatchEvent(messageEvent);expect(chrome.runtime.sendMessage).toHaveBeenCalledWith({message:"close_webcam",type:"submit"});expect(chrome.runtime.sendMessage).not.toHaveBeenCalledWith({message:event.data.text})}))}));