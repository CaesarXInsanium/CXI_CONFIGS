// *****************************************************************************
// Copyright (c) 2014, 2015, 2016, 2017 Pay With Privacy, Inc. All rights reserved.
// Authors:
// Jason Kruse   (jason@privacy.com)
// David Nichols (david@privacy.com)
// Boling Jiang  (boling@privacy.com)
// Felippe Nardi (felippe@privacy.com)
// *****************************************************************************
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,d,b){$jscomp.initSymbolIterator();d=null!=d?d:function(a){return a};var c=[],h=a[Symbol.iterator];if("function"==typeof h)for(a=h.call(a);!(h=a.next()).done;)c.push(d.call(b,h.value));else for(var h=a.length,g=0;g<h;g++)c.push(d.call(b,a[g]));return c}},"es6-impl","es3");$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var h=a[e];if(c.call(d,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){d(a,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var b=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(f){b.reject(f)}};b.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};b.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};b.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(f){this.reject_(f);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};b.prototype.reject_=function(a){this.settle_(2,a)};b.prototype.fulfill_=function(a){this.settle_(1,a)};b.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};b.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),
a[b]=null;this.onSettledCallbacks_=null}};var e=new c;b.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};b.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(k){c.reject(k)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(r){g(r)}}:b}var e,g,h=new b(function(a,b){e=a;g=b});this.callWhenSettled_(d(a,e),
d(c,g));return h};b.prototype["catch"]=function(a){return this.then(void 0,a)};b.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?e.asyncExecute(c):this.onSettledCallbacks_.push(function(){e.asyncExecute(c)})};b.resolve=function(a){return a instanceof b?a:new b(function(b,c){b(a)})};b.reject=function(a){return new b(function(b,c){c(a)})};
b.race=function(a){return new b(function(c,d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())b.resolve(f.value).callWhenSettled_(c,d)})};b.all=function(a){var c=$jscomp.makeIterator(a),d=c.next();return d.done?b.resolve([]):new b(function(a,e){function f(b){return function(c){g[b]=c;h--;0==h&&a(g)}}var g=[],h=0;do g.push(void 0),h++,b.resolve(d.value).callWhenSettled_(f(g.length-1),e),d=c.next();while(!d.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(b.$jscomp$new$AsyncExecutor=function(){return new c});
return b},"es6-impl","es3");$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,b={next:function(){if(d<a.length){var e=d++;return{value:c(e,a[e]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,d){for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var h in c)$jscomp.owns(c,h)&&(a[h]=c[h])}return a}},"es6-impl","es3");var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};
function _toConsumableArray(a){if(Array.isArray(a)){for(var c=0,d=Array(a.length);c<a.length;c++)d[c]=a[c];return d}return Array.from(a)}angular.module("privacyCommonApp.admin",["ui.bootstrap.tpls","ui.bootstrap.modal","daterangepicker"]);angular.module("privacyCommonApp","ngResource ui.bootstrap.tpls ui.bootstrap.modal daterangepicker ui.router ngSanitize ngCookies ngFileSaver rzModule timer bcherny/formatAsCurrency highcharts-ng".split(" "));
angular.module("privacyCommonApp").constant("PRIVACY_WEB_BUCKET_IMAGES","https://s3.amazonaws.com/privacy-web/images/");"use strict";angular.module("privacyCommonApp").directive("imageLoaded",["$parse",function(a){return{restrict:"A",link:function(c,d,b){var e=a(b.imageLoaded);d.bind("load",function(){c.$apply(function(){e(c)})});d.bind("error",function(){c.$apply(function(){e(c,{error:!0})})})}}}]);"use strict";
angular.module("privacyCommonApp").directive("pwpCdnImg",["pwpTestImage",function(a){return{restrict:"A",scope:{src:"=pwpCdnImg",fallback:"=pwpCdnImgFallback"},link:function(c,d){function b(b){if(b)return a.tryUrl(b.src).then(function(){d.attr("src",b.src)},function(){a.tryUrl(b.originalSrc).then(function(){d.attr("src",b.originalSrc)},function(){d.attr("src",b.fallback)})})}function e(){c.src&&"/"!==c.src.charAt(0)?b({src:c.src,fallback:c.fallback}):b({src:"https://cdn.privacy.com"+c.src,originalSrc:c.src,
fallback:c.fallback})}e();c.$watch("src",function(a,b){(a||a!==b)&&e()})}}}]);angular.module("privacyCommonApp").directive("pwpClickToCopy",["Toast",function(a){return{restrict:"A",scope:!0,link:function(c,d,b){d.on("click",function(){var c=d[0];c.setSelectionRange(0,c.value.length);try{document.execCommand("copy"),c.setSelectionRange(0,0)}catch(h){return}c.blur();b.clickToCopyText?a.success(b.clickToCopyText):a.success("Copied to clipboard")})}}}]);"use strict";
angular.module("privacyCommonApp").filter("pwpConvertToNumber",function(){return function(a){if(angular.isString(a)){var c=parseInt(a.replace(/,/g,"").match(/\d+/));if(angular.isNumber(c)&&!isNaN(c))return c}return a}});"use strict";
angular.module("privacyCommonApp").filter("filterByFields",function(){return function(a,c,d){return c&&""!==c?a.filter(function(a){var b=!1;d.forEach(function(d){Object.prototype.hasOwnProperty.call(a,d)&&-1<a[d].toLowerCase().indexOf(c.toLowerCase())&&(b=!0)});return b}):a}});angular.module("privacyCommonApp").filter("currencyModelFilter",function(){return function(a){return a?"$"+String(a).replace(".00",""):""}});"use strict";
angular.module("privacyCommonApp").filter("parseCurrencyCode",function(){var a={AFN:"\u060b",ARS:"$",AWG:"\u0192",AUD:"$",AZN:"\u20bc",BSD:"$",BBD:"$",BYR:"p.",BZD:"BZ$",BMD:"$",BOB:"Bs.",BAM:"KM",BWP:"P",BGN:"\u043b\u0432",BRL:"R$",BND:"$",KHR:"\u17db",CAD:"$",KYD:"$",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",HRK:"kn",CUP:"\u20b1",CZK:"K\u010d",DKK:"kr",DOP:"RD$",XCD:"$",EGP:"\u00a3",SVC:"$",EEK:"kr",EUR:"\u20ac",FKP:"\u00a3",FJD:"$",GHC:"\u00a2",GIP:"\u00a3",GTQ:"Q",GGP:"\u00a3",GYD:"$",HNL:"L",
HKD:"$",HUF:"Ft",ISK:"kr",INR:"\u20b9",IDR:"Rp",IRR:"\ufdfc",IMP:"\u00a3",ILS:"\u20aa",JMD:"J$",JPY:"\u00a5",JEP:"\u00a3",KES:"KSh",KZT:"\u043b\u0432",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u043b\u0432",LAK:"\u20ad",LVL:"Ls",LBP:"\u00a3",LRD:"$",LTL:"Lt",MKD:"\u0434\u0435\u043d",MYR:"RM",MUR:"\u20a8",MXN:"$",MNT:"\u20ae",MZN:"MT",NAD:"$",NPR:"\u20a8",ANG:"\u0192",NZD:"$",NIO:"C$",NGN:"\u20a6",NOK:"kr",OMR:"\ufdfc",PKR:"\u20a8",PAB:"B/.",PYG:"Gs",PEN:"S/.",PHP:"\u20b1",PLN:"z\u0142",QAR:"\ufdfc",RON:"lei",
RUB:"\u20bd",SHP:"\u00a3",SAR:"\ufdfc",RSD:"\u0414\u0438\u043d.",SCR:"\u20a8",SGD:"$",SBD:"$",SOS:"S",ZAR:"R",LKR:"\u20a8",SEK:"kr",CHF:"CHF",SRD:"$",SYP:"\u00a3",TZS:"TSh",TWD:"NT$",THB:"\u0e3f",TTD:"TT$",TRY:",",TRL:"\u20a4",TVD:"$",UGX:"USh",UAH:"\u20b4",GBP:"\u00a3",USD:"$",UYU:"$U",UZS:"\u043b\u0432",VEF:"Bs",VND:"\u20ab",YER:"\ufdfc",ZWD:"Z$"};return function(c){return c?a[c]?"$"===a[c]&&"USD"!==c?c:a[c]:c:"$"}});"use strict";
angular.module("privacyCommonApp").filter("parseDeclineReason",function(){return function(a){switch(a){case "CARD_PAUSED":return"Card was paused at time of transaction.";case "CARD_CLOSED":return"Card was closed at time of transaction.";case "GLOBAL_TRANSACTION_LIMIT":return"Transaction exceeded your global spend limit.";case "GLOBAL_MONTHLY_LIMIT":return"Transaction exceeded your monthly spend limit.";case "USER_TRANSACTION_LIMIT":return"Transaction exceeded your card's spend limit.";case "UNAUTHORIZED_MERCHANT":return"An unauthorized merchant charged your card.";
case "SINGLE_USE_RECHARGED":return"A single-use card was charged multiple times.";case "BANK_CONNECTION_ERROR":return"We were unable to connect to your funding source.";case "INSUFFICIENT_FUNDS":case "INSUFFICIENT_FUNDS_JIT":return"Your funding source didn't appear to have enough funds for this transaction.";case "MERCHANT_BLACKLIST":return"This merchant is not permitted to make charges on Privacy cards.";case "INVALID_CARD_DETAILS":return"Incorrect card details. The card form may have been filled out incorrectly.";
case "BANK_NOT_VERIFIED":return"Your funding source had not yet been verified.";case "ACCOUNT_STATE_REVIEW":case "INACTIVE_ACCOUNT":case "ACCOUNT_STATE_TRANSACTION_FAIL":case "FOREIGN_MERCHANT_VELOCITY":return"Your account was paused at the time of this transaction.";case "MERCHANT_ABUSE":return"Suspicious merchant activity";default:return""}}});"use strict";
angular.module("privacyCommonApp").filter("pwpParseDollarAmount",function(){return function(a,c,d){c=c||0===c?c:2;d=d||"$";try{if(a||0===a){if(-1===a.toString().indexOf("."))a/=Math.pow(10,c);else{var b=a.match(/^(\d*)(\.)(\d{2})$/);b&&(a=b[1]+b[3],a/=Math.pow(10,c))}a=a.toLocaleString("en-US",{maximumFractionDigits:c,minimumFractionDigits:c});a="-"===a.charAt(0)?"-"+d+a.substr(1):d+a}return a}catch(e){console.error(e)}}});"use strict";
angular.module("privacyCommonApp").filter("parseTimePeriod",function(){return function(a){if(a)return a.replace("ANNUALLY","per year").replace("MONTHLY","per month").replace("WEEKLY","per week").replace("TRANSACTION","per charge").replace("FOREVER","total")}});"use strict";angular.module("privacyCommonApp").filter("shortSettlementStatus",function(){return function(a){a=a.replace(/^Settles on /,"");a=/^[A-Z]+$/i.test(a)?a.charAt(0)+a.substr(1).toLowerCase():a;return a}});"use strict";
angular.module("privacyCommonApp").filter("stripDecimals",["numberFilter","$log",function(a,c){return function(d){var b=/^([\D]){0,5}(?!0+\.00)(?=.*(\.|$))(?!0(?!\.))\d{1,3}(,\d{3})*(\.\d+)?$/;if(angular.isString(d)&&b.test(d)&&(b=d.replace(/,/g,"").replace(/\.\d+$/,""),b=/([\D]*)(\d+)/.exec(b)))return b[1]+a(b[2],0);c.error("stripDecimalsFilter: could not strip decimals from "+d);return d}}]);"use strict";var abtest=angular.module("privacyCommonApp");
abtest.directive("experiment",function(){return{restrict:"E",transclude:!0,scope:{name:"@name",variant:"@variant",isdefault:"@isdefault"},template:'<div ng-controller="ExperimentController" ng-init="load(name, isdefault)" ng-show="canShow(variant)"><div ng-transclude></div></div>'}});
abtest.controller("ExperimentController",["$scope","$cookies",function(a,c){a.experiment={name:void 0,value:void 0};a.noTestLoaded=!1;a.load=function(d,b){a.isDefault=b;var e=c.get("abtests");if(e){var h=[];try{h=JSON.parse(e)}catch(g){}e=h.filter(function(a){return a.name===d});0<e.length?a.experiment=e[0]:a.noTestLoaded=!0}else a.noTestLoaded=!0};a.canShow=function(c){return a.experiment.value===c||a.showDefault()};a.showDefault=function(){return a.noTestLoaded&&a.isDefault}}]);
abtest.factory("abTest",["$cookies",function(a){var c=moment().add(4,"months").toDate();return{addTest:function(d,b){var e={name:d,value:b},h=a.getObject("abtests");h?this.hasTest(d)||(h.push(e),a.putObject("abtests",h,{expires:c})):a.putObject("abtests",[e],{expires:c})},updateTest:function(d,b){var e=a.getObject("abtests");if(e){var h=e.filter(function(a){return a.name===d});if(0<h.length){var g=e.indexOf(h[0]);e.splice(g,1);h[0].value=b;e.push(h[0])}a.putObject("abtests",e,{expires:c})}},hasTest:function(c){var b=
a.getObject("abtests");return b?0<b.filter(function(a){return a.name===c}).length?!0:!1:!1},getTest:function(c){return(a.getObject("abtests")||[]).filter(function(a){return a.name===c}).map(function(a){return a.value}).shift()}}}]);"use strict";
angular.module("privacyCommonApp").factory("CardService",["$http","PRIVACY_WEB_BUCKET_IMAGES","$q","Toast","$rootScope","$cookies","HttpCacheService",function(a,c,d,b,e,h,g){function f(a){"string"===typeof a.spendLimit&&(a.spendLimit=a.spendLimit.replace(",",""));"0.00"==a.spendLimit||0==parseFloat(a.spendLimit)?a.spendLimit="":a.spendLimit=parseFloat(a.spendLimit);0==a.memo.length&&0<a.hostname.length&&(a.memo=a.hostname.replace(/^www\./i,""));0==a.spendLimitDuration.length&&(a.spendLimitDuration=
"TRANSACTION");return a}var k={SINGLE_USE:"SINGLE_USE",MERCHANT_LOCKED:"MERCHANT_LOCKED",UNLOCKED:"UNLOCKED",PHYSICAL:"PHYSICAL",DIGITAL_WALLET:"DIGITAL_WALLET"},l={reset:function(){m.all=[];m.open=[];m.closed=[];g.remove(p+"/",p+"/merchant/suggested")},getSampleCard:function(){n=h.getObject("savedSampleCard");if(!n||!n.length){var a=moment().add(4,"years"),a={cardID:null,type:"MERCHANT_LOCKED",memo:"My First Virtual Card",PAN:"****************",CVV:"***",meta:{},expMonth:""+(a.month()+1),expYear:""+
a.year()};a.meta.generatedFirstCard=!0;n=[a]}return n},getCards:function(){var b=d.defer();a.get(p+"/",{cache:!0}).then(function(a){a=a.data;var c=[];m.all=[];m.open=[];m.closed=[];a.cardList=a.cardList||[];a.cardList=a.cardList.map(f);a.cardList.forEach(function(a){m.all.push(a);"CLOSED"==a.state?(a.state="CLOSED",m.closed.push(a)):a.unused?c.push(a):m.open.push(a)});m.open=c.concat(m.open);a.cardList=m;b.resolve(a)})["catch"](function(a){b.reject(a)});return b.promise},configureCardData:f,searchCards:function(b){var c=
d.defer(),e={all:[],open:[],closed:[]};if(!b)return c.resolve(e),c.promise;a.get(p+"/"+("?q="+b)).then(function(a){a=a.data;var b=[];a.cardList=a.cardList||[];a.cardList=a.cardList.map(f);a.cardList.forEach(function(a){e.all.push(a);"CLOSED"==a.state?(a.state="CLOSED",e.closed.push(a)):a.unused?b.push(a):e.open.push(a)});e.open=b.concat(e.open);c.resolve({cardList:e})})["catch"](function(a){c.reject(a)});return c.promise},createCard:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{},c=d.defer();q(p,a).then(function(a){a=a.data;a.card&&(m.all.unshift(a.card),m.open.unshift(a.card));c.resolve(a)})["catch"](function(a){var d=a.data;a=a.status;d&&d.subscriptionRequired?b.error("Subscription required"):d&&d.message?b.error(d.message):b.error({402:"Please confirm your email first.",410:"Please add a funding source.",405:"Your account is under review. We will reach out to you by email in the next few days."}[a]||"An unknown server error occurred. Please try again shortly.");c.reject(d)});
return c.promise},pause:function(a){return q(p+"/"+a+"/pause")},resume:function(a){return q(p+"/"+a+"/resume")},close:function(a){var b=d.defer();q(p+"/"+a+"/close").then(function(){var c=_.find(m.all,{cardID:a});c&&(c.state="CLOSED",m.closed.unshift(c),_.remove(m.open,{cardID:a}));b.resolve()})["catch"](function(a){b.reject(a.data)});return b.promise},update:function(b,c){var f=c.reloadable,g=c.type,k=c.memo,k=void 0===k?"":k,l=c.hostname,l=void 0===l?"":l,r=c.spendLimit,r=void 0===r?"":r,t=c.spendLimitDuration,
t=void 0===t?"TRANSACTION":t,x=c.bankAccountID,x=void 0===x?"":x,u=c.meta,v=d.defer(),y={cardID:b,reloadable:f,type:g,memo:k,hostname:l,spendLimit:r,spendLimitDuration:t,bankAccountID:x};u&&(y.meta=u);if(!b)return n=n.map(function(a){a=angular.merge(a,y);delete a.style;return a}),u&&u.hostname?(u.platform="web",a.get(p+("/style/"+u.hostname)).then(function(a){n[0].style=a.data.style;h.putObject("savedSampleCard",n);v.resolve(n)})):(h.putObject("savedSampleCard",n),v.resolve(n)),v.promise;q(p+"/attributes",
y).then(function(a){var b=a.data.card;m.all=m.all.map(function(a){a.cardID===b.cardID&&(a=angular.merge(a,b),_.get(a,"style.bgColor")&&!_.get(b,"style.bgColor")&&delete a.style.bgColor,_.get(a,"style")&&!_.get(b,"style")&&delete a.style);return a});m.open=m.open.map(function(a){a.cardID===b.cardID&&(a=angular.merge(a,b),_.get(a,"style.bgColor")&&!_.get(b,"style.bgColor")&&delete a.style.bgColor,_.get(a,"style")&&!_.get(b,"style")&&delete a.style);return a});e.$broadcast("card-list-update");v.resolve(b)})["catch"](function(a){v.reject(a)});
return v.promise},mask:function(a){return a&&16==a.length?a.substr(0,6)+"XXXXXX"+a.substr(-4):a},split:function(a){return a&&16==a.length?a.match(/.{4}/g).join(" "):a},redeemPromoCard:function(a){return q(p+"/redeemPromoCard",a)},getSuggestedMerchants:function(){var b=d.defer();a.get(p+"/merchant/suggested",{cache:!0}).then(function(a){a=_.get(a.data,"merchants",[]);b.resolve(a)});return b.promise},searchMerchants:function(b){return a.get(p+"/merchant/search",{params:{term:b}})},getLogoSrc:function(a){return a&&
a.filename?c+"cards/"+a.filename+"?lastModified="+(a.lastModified||""):""},getBlankCard:function(){var a=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).type;return{type:void 0===a?k.MERCHANT_LOCKED:a,spendLimitDuration:"MONTHLY",unused:!0}},CARD_TYPE:k,GENERATED_FIRST_CARD:"generatedFirstCard",GENERATED_FIRST_CARD_SEEN:"generatedFirstCardSeen",hasUnlockedCards:function(){return _.get(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},"permissions",[]).some(function(a){return"UNLOCKED_CARDS"===
a})},acceptSharingDisclosure:function(){return a.post("/api/v1/sharing/acceptDisclosure")},shareCard:function(b,c){return a.post("/api/v1/sharing/share-card",{email:b,cardUuid:c})},getRecipientEmails:function(b){return a.post("/api/v1/sharing/recipients",{recipientsList:b})},mutableType:function(a){return a.unused&&(a.type===k.SINGLE_USE||a.type===k.MERCHANT_LOCKED)}},p="/api/v1/card",m={all:[],open:[],closed:[]},n=[],q=g.postAndClearCacheGenerator(p+"/");return l}]);
angular.module("privacyCommonApp").factory("ConfirmService",["$uibModal",function(a){return{confirm:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=c.title,b=void 0===d?"Are you sure?":d,d=c.subtitle,e=void 0===d?"":d,d=c.cancelButtonText,h=void 0===d?"No":d,c=c.confirmButtonText,g=void 0===c?"Yes":c;return new Promise(function(c){a.open({controller:"ModalConfirmController",controllerAs:"modal",templateUrl:"components/modal-confirm/modal-confirm.html",resolve:{options:{title:b,
subtitle:e,cancelButtonText:h,confirmButtonText:g}}}).result.then(function(){c(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1)})})}}}]);"use strict";angular.module("privacyCommonApp").factory("DateService",function(){return{getRelativeDate:function(a){return moment.utc(a).local().startOf("day").calendar(null,{sameDay:"[Today]",lastDay:"[Yesterday]",lastWeek:"dddd",sameElse:"MMM YYYY"})}}});"use strict";
angular.module("privacyCommonApp").factory("EventService",["$http","$window","$timeout",function(a,c,d){var b=[],e=null,h=[],g=null,f=[],k=null;return{record:function(b){"object"===("undefined"===typeof b?"undefined":_typeof(b))&&(b.data=b.data||{},c.document.referrer&&(b.data.documentReferrer=c.document.referrer));a.post("/api/v1/event/",{event:b})},info:function(c){b.push(c);d.cancel(e);e=d(function(){a.post("/api/v1/event/info",{events:b});b=[]},2E3)},error:function(b){h.push(b);d.cancel(g);g=
d(function(){a.post("/api/v1/event/error",{events:h});h=[]},2E3)},stat:function(b){f.push(b);d.cancel(k);k=d(function(){a.post("/api/v1/event/stat",{events:f});f=[]},2E3)},OBJECT_ACTIONS:{CTA:{CLICKED:"CTA: Clicked"},SETTINGS:{SET_ACCOUNT_PHOTO:"Settings: Set Account Photo"},MODAL:{VIEWED:"Modal: Viewed"},FUNDING_SOURCE:{ERRORED:"Funding Source: Add Errored",BLOCKED:"Funding Source: Add Blocked"},CARD:{VIEWED:"Card: Viewed",SET_NICKNAME:"Card: Set Nickname",SET_SPEND_LIMIT:"Card: Set Spend Limit",
SET_STYLE:"Card: Set Style",SET_FUNDING_SOURCE:"Card: Set Funding Source",VIEWED_NUMBER:"Card: Viewed Number",COPIED_NUMBER:"Card: Copied Number"},TRANSACTION:{VIEWED:"Transaction: Viewed"},EXTENSION:{INSTALLED:"Extension: Installed"}}}}]);"use strict";
angular.module("privacyCommonApp").factory("ExperimentService",["$http","$cookies","EventService",function(a,c,d){var b=function(){var a={assignments:{},uuid:null};try{var b=c.get("experiments")||"";if(!b)return d.info({message:"Experiments cookie not found"}),d.stat("web.experiment.assignment.find.error"),a;var g=atob(b).split("").map(function(a){return a.charCodeAt(0)}),g=protobuf.roots["default"].experiments.Cookie.decode(g),g=protobuf.roots["default"].experiments.Cookie.toObject(g);return g!==
{}&&g.assignments&&g.uuid?g:(d.info({message:"Decoding experiments cookie failed",cookie:b,decoded:g}),d.stat("web.experiment.assignment.find.error"),a)}catch(f){return d.error(f),d.stat("web.experiment.assignment.find.error"),a}};return{logAction:function(c,h){var e=b();if(e.uuid)return a.post("/api/v1/experiment/action",{experimentLabel:c,uuid:e.uuid,action:h}).error(function(a,b,c,e){d.error({data:a,status:b})})},logImpression:function(c){var e=b();if(e.uuid)return a.post("/api/v1/experiment/impression",
{experimentLabel:c,uuid:e.uuid}).error(function(a,b,c,e){d.error({data:a,status:b})})},experimentFromLabel:function(a){var c=b(),e=c.assignments[a];if(e)return e;d.info({message:"Getting experiment assignment failed",experiment:a,cookie:c});d.stat("web.experiment.assignment.read."+a+".error");return""}}}]);"use strict";angular.module("privacyCommonApp").factory("GemService",["$http",function(a){return{getActiveGemForUser:function(){return a.get("/api/v1/gem/")},redeemGem:function(){return a.post("/api/v1/gem/redeem")}}}]);
"use strict";
angular.module("privacyCommonApp").factory("HttpCacheService",["$cacheFactory","$http",function(a,c){var d=function(){return a.get("$http")},b=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var f=d();b.forEach(function(a){f.remove(a);f.remove("http://localhost:9000"+a);f.remove("https://privacy.com"+a)})};return{master:d,remove:b,removeAll:function(){d().removeAll()},postAndClearCacheGenerator:function(a){return function(d,e){b(a);return e?c.post(d,e):c.post(d)}}}}]);
"use strict";
angular.module("privacyCommonApp").factory("ModalService",["$uibModal",function(a){var c={"card-inspector":{template:"components/modal-card-inspector/modal-card-inspector.html",controller:"ModalCardInspectorController"},"card-create":{template:"components/modal-card-create/modal-card-create.html",controller:"ModalCardCreateController"},tfa:{template:"components/modal-tfa/modal-tfa.html",controller:"ModalTFAController"},"affiliate-offer":{template:"components/modal-affiliate-offer/modal-affiliate-offer.html",controller:"ModalAffiliateOfferController"},
alert:{template:"components/modal-alert/modal-alert.html",controller:"ModalAlertController"},gem:{template:"components/modal-gem/modal-gem.html",controller:"ModalGemController"}};return{show:function(d){var b=c[d];b.template&&a.open({controller:b.controller,controllerAs:"modal",templateUrl:b.template,resolve:{options:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}}})}}}]);
angular.module("privacyCommonApp").factory("PromptService",["$uibModal",function(a){return{prompt:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=c.title,b=void 0===d?"Please provide a string:":d,d=c.subtitle,e=void 0===d?"":d,d=c.cancelButtonText,h=void 0===d?"Cancel":d,d=c.confirmButtonText,g=void 0===d?"OK":d,c=c.input,f=void 0===c?null:c;return new Promise(function(c){a.open({controller:"ModalPromptController",controllerAs:"modal",templateUrl:"components/modal-prompt/modal-prompt.html",
resolve:{options:{title:b,subtitle:e,cancelButtonText:h,confirmButtonText:g,input:f}}}).result.then(c)})}}}]);"use strict";
angular.module("privacyCommonApp").factory("pwpBankService",[function(){var a={ins_1:"bofa",ins_2:"bbt",ins_3:"chase",ins_4:"wells",ins_5:"citi",ins_6:"us",ins_7:"usaa",ins_9:"capone",ins_10:"amex",ins_11:"schwab",ins_12:"fidelity",ins_13:"pnc",ins_14:"td",ins_15:"nfcu",ins_16:"suntrust",ins_19:"regions",ins_20:"citizens",ins_21:"huntington",ins_22:"paypal",ins_23:"bbvac",ins_24:"simple",ins_25:"ally",ins_26:"fifth-third",ins_27:"mtb",ins_28:"santander",ins_29:"keybank",ins_31:"union",ins_32:"woodforest",
ins_33:"discover",ins_34:"gsbank",ins_35:"chime",ins_36:"nc-secu",ins_51:"barclaycard",ins_52:"marcus",ins_53:"svb-connect",ins_113800:"sffire"};return{getLogo:function(c){if(c)return 0!==c.indexOf("ins_")&&isNaN(parseInt(c))?"/assets/images/banks/"+c+"@2x.png":a[c]?"/assets/images/banks/"+a[c]+"@2x.png":"https://s3.amazonaws.com/privacy-web/images/bank/"+c+".png"},instIDtoBankType:a}}]);"use strict";angular.module("privacyCommonApp").factory("Toast",Toast);
function Toast(a){function c(a){a.addClass("-remove");setTimeout(function(){a.remove()},500)}function d(d,h){a(function(){angular.element(document).find("div.toast-stack")});b.length||(b=angular.element('<div class="toast-stack"></div>'),angular.element(document.body).append(b));var e=angular.element('<div class="toast-item '+("ERROR"==d?"-error":"SUCCESS"==d?"-success":"")+'">'+h+"</div>");e.bind("click",function(){c(e)});b.append(e);setTimeout(function(){c(e)},3E3)}var b=[];return{notify:function(a){d("NOTIFY",
a)},success:function(a){d("SUCCESS",a)},error:function(a){d("ERROR",a)}}}Toast.$inject=["$timeout"];"use strict";angular.module("privacyCommonApp").factory("pwpTestImage",["$q",function(a){var c={};return{tryUrl:function(d){var b=a.defer();if(d)if(void 0!==c[d])c[d]?b.resolve(d):b.reject(d);else{var e=angular.element(new Image);e.bind("load",function(){b.resolve(d);c[d]=!0});e.bind("error",function(){b.reject(d);c[d]=!1});e.attr("src",d)}else b.reject();return b.promise}}}]);"use strict";
angular.module("privacyCommonApp").factory("TransactionService",["FileSaver","$http","$cacheFactory","$q","Toast",function(a,c,d,b,e){function h(a){a.dateAuthorized&&(a.dateAuthorized=moment.utc(a.dateAuthorized).toDate());a.dateSettled&&(a.dateSettled=moment.utc(a.dateSettled).toDate());return a}var g={getTransactions:function(a,e,g){var p=d.get("transactions"),l=b.defer();a=a||"";e=e||"";g=g||0;var m=JSON.stringify({cardID:a,limit:e,offset:g});p.get(m)?l.resolve(p.get(m)):c.get(f+"/"+a+(e&&(g||
0===g)?"?limit="+e+"&offset="+g:"")).then(function(a){a=a.data;k.all=a.transactionList||[];k.all=k.all.map(h);k.declines=a.declineList||[];k.declines=k.declines.map(h);a.transactionList=k;p.put(m,a);l.resolve(a)})["catch"](function(a){l.reject(a)});return l.promise},getBounces:function(){return c.get(f+"/bounces")},getDeclines:function(a){var d=b.defer();c.get(f+"/declines/"+(a||"")).then(function(a){a=a.data;a.transactionList=a.transactionList||[];a.transactionList=a.transactionList.map(h);d.resolve(a)})["catch"](function(a){d.reject(a)});
return d.promise},getStatement:function(a,d){var e=b.defer();c.get(f+"/statement/"+d+"/"+a).then(function(a){a=a.data;a.transactionList=a.transactionList||[];a.transactionList=a.transactionList.map(h);e.resolve(a)});return e.promise},getStatementPDF:function(b,d){return c.get(f+"/statement-pdf/"+d+"/"+b,{responseType:"arraybuffer"}).then(function(c){c=new Blob([c.data],{type:"application/pdf;charset=utf-8"});a.saveAs(c,"Privacy.com Statement "+d+"-"+b+".pdf")})},openDispute:function(a,b){return c.post(f+
"/dispute/open/"+a,{details:b})},openDisputeWithEvidence:function(a,b){return c.post(f+"/dispute/open-with-evidence/"+a,{details:b})},submitDisputeEvidence:function(a,b){var d=new FormData;b.forEach(function(a){d.append("image",a)});return c.post(f+"/dispute/submit-evidence/"+a,d,{transformRequest:angular.identity,uploadEventHandlers:{},headers:{"Content-Type":void 0}})},cancelDispute:function(a){return c.post(f+"/dispute/close/"+a)},searchTransactions:function(a,d){var e=b.defer(),g={all:[],declines:[]};
if(!d)return e.resolve(g),e.promise;c.get(f+"/"+(a||"")+("?q="+d)).then(function(a){a=a.data;g.all=_.get(a,"transactionList",[]);g.all=g.all.map(h);g.declines=_.get(a,"declineList",[]);g.declines=g.declines.map(h);e.resolve({transactionList:g})})["catch"](function(a){e.reject(a)});return e.promise},configureTransactionDates:h,retryBatch:function(a,b){var d={batchIDs:a,initiatedByUser:2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1};b&&(d.newBankAccountID=b);return c.post(f+"/batch/retry",
d)},hide:function(a){var d=b.defer();c.post(f+"/hide/"+a).then(function(){k.all=k.all.filter(function(b){return b.transactionID!==a});e.notify("Transaction Hidden");d.resolve()})["catch"](function(a){a=a.data;e.error(a&&a.message||"Couldn't hide transaction");d.reject()});return d.promise},reset:function(){k.all=[];k.declines=[];d.get("transactions").removeAll()}},f="/api/v1/transaction";d("transactions");var k={all:[],declines:[]};return g}]);"use strict";
angular.module("privacyCommonApp").controller("AccountPhotoDirectiveController",["$scope","User","UserService","Toast","EventService",function(a,c,d,b,e){var h={onClickUploadPhoto:function(a){a=a.target.files[0];a.size>g?b.error("This file is too large"):(h.loading=!0,d.changeAccountPhoto(a).then(function(){e.record({name:e.OBJECT_ACTIONS.SETTINGS.SET_ACCOUNT_PHOTO,data:{action:"Add"}})})["catch"](function(a){h.loading=!1;b.error(a.message||"Couldn't upload photo")}))},onClickDeletePhoto:function(){h.user.photo=
null;d.changeAccountPhoto().then(function(){e.record({name:e.OBJECT_ACTIONS.SETTINGS.SET_ACCOUNT_PHOTO,data:{action:"Delete"}})})["catch"](function(a){b.error(a.message||"Couldn't delete photo")})},handleLoad:function(a){a&&(h.user.photo=null);h.loading=!1},user:null,loading:!1};c.sync(a,"user");var g=10485760;return h}]);
angular.module("privacyCommonApp").directive("accountPhoto",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{user:"<"},templateUrl:"components/account-photo/account-photo.html",controller:"AccountPhotoDirectiveController",controllerAs:"Photo"}});
angular.module("privacyCommonApp").controller("AffiliateOfferBarDirectiveController",["$uibModal",function(a){var c={onClickActivate:function(){if(!c.isDisabled&&!c.loading&&c.onClick)c.onClick()},onClickOpenModal:function(){a.open({controller:"ModalAlertController",controllerAs:"modal",templateUrl:"components/modal-alert/modal-alert.html",resolve:{options:{title:"Tell me more...",subtitle:"Privacy will open a new tab to activate your bonus Cashback at "+c.offer.merchantName+". It should only take a few seconds, and then you\u2019re all set!",
buttonText:"Got it!"}}})},offer:null,loadingRedeem:null,onClick:function(){}};return c}]);angular.module("privacyCommonApp").directive("affiliateOfferBar",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{offer:"<",onClick:"&",loadingRedeem:"<"},templateUrl:"components/affiliate-offer-bar/affiliate-offer-bar.html",controller:"AffiliateOfferBarDirectiveController",controllerAs:"AffiliateOfferBar"}});
angular.module("privacyCommonApp").controller("AffiliateOfferToastDirectiveController",function(){var a={onClickActivate:function(){a.onMinimize();a.onClick()},expandToast:function(){a.onExpand();a.expanded=!0},closeToast:function(){a.onClose();a.isOpen=!1},offer:null,loadingRedeem:!1,expanded:!1,isOpen:!0,onClick:function(){},onClose:function(){},onExpand:function(){},onMinimize:function(){}};return a});
angular.module("privacyCommonApp").directive("affiliateOfferToast",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{offer:"<",onClick:"&",onClose:"&",onExpand:"&",onMinimize:"&",loadingRedeem:"<"},templateUrl:"components/affiliate-offer-toast/affiliate-offer-toast.html",controller:"AffiliateOfferToastDirectiveController",controllerAs:"AffiliateOfferToast"}});"use strict";
angular.module("privacyCommonApp").controller("CardDetailsDirectiveController",["$uibModal","$cookies","ExperimentService",function(a,c,d){function b(){return _.get(e,"user.bankAccountList",[]).concat(_.get(e,"user.fundingCardList",[]))}var e={setState:function(a){"CLOSED"!==e.card.state&&(e.state===a&&(a=null),e.state=a,e.onClickDetail(a))},onClickNickname:function(){a.open({controller:"ModalCardEditNicknameController",controllerAs:"modal",templateUrl:"components/modal-card-edit-nickname/modal-card-edit-nickname.html",
resolve:{options:{card:e.card,isNewCard:e.isNewCard,hasMerchantSelector:e.hasMerchantSelector}}})},onClickSpendLimit:function(){var b="showNewSpendLimitModal"===d.experimentFromLabel("spendLimitModal")||"true"===c.get("__SPEND_MODAL_DEBUG__");a.open({controller:b?"ModalCardEditLimitNewController":"ModalCardEditLimitController",controllerAs:"modal",templateUrl:b?"components/modal-card-edit-spend-limit-new/modal-card-edit-spend-limit-new.html":"components/modal-card-edit-spend-limit/modal-card-edit-spend-limit.html",
resolve:{options:{card:e.card,user:e.user,isNewCard:e.isNewCard,hideLimitSlider:e.hideLimitSlider}}})},onClickFundingSource:function(){a.open({controller:"ModalCardEditFundingController",controllerAs:"modal",templateUrl:"components/modal-card-edit-funding-source/modal-card-edit-funding-source.html",resolve:{options:{card:e.card,user:e.user,isNewCard:e.isNewCard}}})},shouldShowFundingSource:function(){var a=_.get(e,"card.cardID");return"PREPAID"!==_.get(e,"user.accountType")&&(1<b().length||a)},getUserFundingSources:b,
isCardFundingAccount:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=_.get(e,"card.bankAccountID"),d=c===a.bankAccountID,a=!c&&a["default"],c=1===b().length;return d||a||c},hideLimitSlider:null,card:null,state:null,onClickDetail:null,user:null,onUpdateSuccess:null,isNewCard:!1};return e}]);"use strict";
angular.module("privacyCommonApp").directive("cardDetails",function(){return{restrict:"E",replace:!0,bindToController:{card:"<",user:"<",state:"=?",onClickDetail:"&",onUpdateSuccess:"<",isNewCard:"<",hasMerchantSelector:"<",hideLimitSlider:"<?"},scope:!0,templateUrl:"components/card-details/card-details.html",controller:"CardDetailsDirectiveController",controllerAs:"Details"}});"use strict";
angular.module("privacyCommonApp").controller("CardGraphListDirectiveController",["$scope","$timeout","$interval","PRIVACY_WEB_BUCKET_IMAGES",function(a,c,d,b){function e(){var a={},b={};h.currentLimit=h.limit;h.transactions.forEach(function(b){var c=new Date(b.dateAuthorized||b.dateSettled),d=h.firstDate,e=h.lastDate;(!d||c>=d)&&(!e||c<=e)&&(a[b.cardID]=a[b.cardID]?a[b.cardID]+b.amount:b.amount)});var c=1;h.cards.forEach(function(b){a[b.cardID]||(a[b.cardID]=0);a[b.cardID]>c&&(c=a[b.cardID])});h.cards.forEach(function(d){var e=
d.cardID;b[e]=a[e]/c;d.cardGraphListCalculatedValue=Math.abs(a[e])});h.cardByAmount=a;h.cardByPercent=b}var h={cards:[],transactions:[],cardByAmount:{},cardByPercent:{},selectedCard:null,limit:null,currentLimit:null,incrementRowsBy:null,paginate:null,infiniteScroll:null,onClickShowMore:function(){h.currentLimit+=h.limit},onClickShowFewer:function(){h.currentLimit=h.limit},getLogoSrc:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=a.style,a=a.type;return c&&c.filename&&
"MERCHANT_LOCKED"===(void 0===a?"MERCHANT_LOCKED":a)?b+"cards/"+c.filename+"?lastModified="+(c.lastModified||""):""},getTotalSpend:function(a){return h.cardByAmount[a.cardID]||0},getWidth:function(a){return 0<h.cardByPercent[a.cardID]?"calc(90px + (100% - 90px) * "+h.cardByPercent[a.cardID]+")":"1px"},loading:null,shouldShowMore:!1,selectCard:function(a){_.get(h,"selectedCard.cardID",null)!==a.cardID?h.selectedCard=a:h.selectedCard=null;if("function"===typeof h.onClickCard)h.onClickCard(h.selectedCard?
a:null)},searchTerm:"",firstDate:null,lastDate:null,onClickCard:_.noop,emptySlots:null,getEmptySlots:function(a){var b=0;h.infiniteScroll?b=0:h.cards.length<=h.limit||!h.paginate?b=h.limit-a.length:h.cards.length>h.limit&&(b=h.currentLimit>h.cards.length?h.cards.length-a.length+(a.length<=h.limit?1:0):h.currentLimit-a.length+(a.length<=h.limit?1:0));return Array(0<b?b:0)}};c(function(){a.$watchGroup([function(){return h.firstDate},function(){return h.lastDate},function(){return h.transactions},function(){return h.cards},
function(){return h.limit}],e);if(h.infiniteScroll){var b=void 0;a.$watch(function(){return h.cards},function(){b=d(function(){a.isBottomNearViewport()?h.currentLimit+=h.incrementRowsBy||h.limit:d.cancel(b)},100)});a.$watch(function(){return a.shouldShowMore},function(a){a&&(h.currentLimit+=h.incrementRowsBy||h.limit)});a.$on("$destroy",function(){angular.isDefined(b)&&d.cancel(b)})}});return h}]);"use strict";
angular.module("privacyCommonApp").directive("cardGraphList",["$window",function(a){return{restrict:"E",replace:!0,scope:!0,bindToController:{selectedCard:"<",cards:"<",transactions:"<",onClickCard:"<",limit:"<",paginate:"=",infiniteScroll:"<",incrementRowsBy:"<",loading:"<",firstDate:"<",lastDate:"<",emptySlots:"<"},link:function(c,d){function b(){c.$apply(function(){c.shouldShowMore=c.isBottomNearViewport()})}_.get(c,"CardGraphList.infiniteScroll")&&(c.isBottomNearViewport=function(){return d[0].getBoundingClientRect().bottom<=
(a.innerHeight||document.documentElement.clientHeight)+100},a.addEventListener("scroll",b,!0),c.$on("$destroy",function(){a.removeEventListener("scroll",b,!0)}))},templateUrl:"components/card-graph-list/card-graph-list.html",controller:"CardGraphListDirectiveController",controllerAs:"CardGraphList"}}]);"use strict";
angular.module("privacyCommonApp").controller("CardInspectorDirectiveController",["$timeout","$rootScope","$uibModal","$scope","Toast","ConfirmService","CardService","TransactionService","EventService",function(a,c,d,b,e,h,g,f,k){var l={toggleListView:function(){l.listView="TRANSACTIONS"===l.listView?"DECLINES":"TRANSACTIONS"},inspectTransaction:function(a){k.record({name:k.OBJECT_ACTIONS.TRANSACTION.VIEWED,data:{}});l.inspectingTransaction=a},closeTransactionInspector:function(){l.inspectingTransaction=
!1},hideTransaction:function(a){f.hide(a.transactionID).then(function(){a.state="HIDDEN";l.transactions=_.get(l,"transactions",[]).filter(function(b){return b.transactionID!==a.transactionID});l.declines=_.get(l,"declines",[]).filter(function(b){return b.transactionID!==a.transactionID})});l.closeTransactionInspector()},confirmHideTransaction:function(a){h.confirm({title:"Hide Transaction?",subtitle:"Are you sure?"}).then(function(b){b&&l.hideTransaction(a)})},pauseCard:function(){var a=l.card;a.state=
"PAUSED";g.pause(a.cardID).then(function(){e.success("Card Paused")})["catch"](function(b){b=b.data;a.state="OPEN";e.error(b&&b.message||"Couldn't pause card")})},resumeCard:function(){var a=l.card;a.state="OPEN";g.resume(a.cardID).then(function(){e.success("Card Resumed")})["catch"](function(b){b=b.data;a.state="PAUSED";e.error(b&&b.message||"Couldn't resume card")})},closeCard:function(){var a=l.card,b=a.state;a.state="CLOSED";g.close(a.cardID).then(function(){e.success("Card Closed!")})["catch"](function(c){a.state=
b;e.error(c&&!c.unknownError&&c.message||"Uh oh! We couldn't close your card.")})},confirmCloseCard:function(){h.confirm({title:"Close this card?",subtitle:"Are you sure? This can't be undone."}).then(function(a){a&&l.closeCard()})},confirmCloseTransactionDispute:function(a){h.confirm({title:"Close Dispute?",subtitle:"Are you sure?"}).then(function(b){b&&l.closeTransactionDispute(a)})},closeTransactionDispute:function(a){f.cancelDispute(a.transactionID).then(function(){a.state="ACTIVE";e.success("Update Successful")})["catch"](function(a){a=
a.data;e.error(a&&a.message||"Couldn't Update")})},onClickConnect:function(){c.$emit("ClickConnectFundingEvent",l.card);if(l.isModal&&l.onCloseModal)l.onCloseModal()},onClickCustomize:function(){d.open({controller:"ModalCardEditNicknameController",controllerAs:"modal",templateUrl:"components/modal-card-edit-nickname/modal-card-edit-nickname.html",resolve:{options:{card:l.card,hasMerchantSelector:l.hasMerchantSelector,merchantOnly:!0}}})},onClickShareCard:function(){_.get(l,"user.acceptedSharingDisclosureDate")?
d.open({controller:"ModalShareCardController",controllerAs:"modal",templateUrl:"components/modal-share-card/modal-share-card.html",resolve:{options:{card:l.card,user:l.user}}}):d.open({templateUrl:"components/modal-share-card-explainer/modal-share-card-explainer.html",controller:"ModalShareCardExplainerController",controllerAs:"modal",resolve:{options:{card:l.card,user:l.user}}})},onCloseModal:null,listView:"TRANSACTIONS",card:null,inspectingTransaction:null,cardList:null,transactionList:null,user:null,
isModal:null,hasMerchantSelector:null,nonBlockingLoad:null};a(function(){var a=l.card;console.log("inspecting card: ",a);console.log("merchant selector?? ",l.hasMerchantSelector);a.created="string"===typeof a.created?Date.parse(a.created.replace(" ","T")):a.created;l.transactions=_.get(l,"transactionList.all",[]).filter(function(b){return Number(b.cardID)===Number(a.cardID)});l.declines=_.get(l,"transactionList.declines",[]).filter(function(b){return Number(b.cardID)===Number(a.cardID)});k.record({name:k.OBJECT_ACTIONS.CARD.VIEWED,
data:{}});l.inspectingTransaction&&(k.record({name:k.OBJECT_ACTIONS.TRANSACTION.VIEWED,data:{}}),l.state="TRANSACTIONS",!1===l.inspectingTransaction.accepted&&(l.listView="DECLINES"));b.$watch(function(){return l.transactionList},function(){l.transactions=_.get(l,"transactionList.all",[]).filter(function(b){return Number(b.cardID)===Number(a.cardID)});l.declines=_.get(l,"transactionList.declines",[]).filter(function(b){return Number(b.cardID)===Number(a.cardID)})})});return l}]);"use strict";
angular.module("privacyCommonApp").directive("cardInspector",function(){return{restrict:"E",replace:!0,bindToController:{card:"=",inspectingTransaction:"=?",cardList:"=",transactionList:"=",user:"<",isModal:"<?",hasMerchantSelector:"<",showDisputeModal:"<",onCloseModal:"<",hideLimitSlider:"<?",preventHideTransaction:"<",nonBlockingLoad:"<"},scope:!0,templateUrl:"components/card-inspector/card-inspector.html",controller:"CardInspectorDirectiveController",controllerAs:"Inspector"}});"use strict";
angular.module("privacyCommonApp").controller("CardListDirectiveController",["$scope","$timeout","$interval",function(a,c,d){var b={cards:null,getCardName:function(a){return a.memo?a.memo:a.hostname?a.hostname:"SINGLE_USE"!==a.type?"Unnamed Card":"Unnamed Burner"},preview:!0,filterText:"",filterFields:["memo","PAN"],limit:null,initialLimit:null,incrementRowsBy:null,paginate:null,infiniteScroll:null,onClickShowMore:function(){b.limit+=b.initialLimit},onClickShowFewer:function(){b.limit=b.initialLimit},
loading:null,shouldShowMore:!1};c(function(){function c(){var c=a.getNumberOfColumns();b.limit+=b.incrementRowsBy?b.incrementRowsBy*c:b.initialLimit}b.initialLimit=b.limit;a.$watch(function(){return b.showFullCard},function(a){a&&(b.preview=!1)});if(b.infiniteScroll){var h=void 0;a.$watch(function(){return b.cards},function(){h=d(function(){a.isBottomNearViewport()?c():d.cancel(h)},100)});a.$watch(function(){return a.shouldShowMore},function(a){a&&c()});a.$on("$destroy",function(){angular.isDefined(h)&&
d.cancel(h)})}});return b}]);"use strict";
angular.module("privacyCommonApp").directive("cardList",["$window",function(a){return{restrict:"E",replace:!0,scope:!0,bindToController:{cards:"<",onClickCard:"=",limit:"<",paginate:"=",infiniteScroll:"<",incrementRowsBy:"<",filterText:"<",showFullCard:"<",loading:"<"},link:function(c,d){function b(){c.$apply(function(){c.shouldShowMore=c.isBottomNearViewport()})}_.get(c,"CardList.infiniteScroll")&&(c.isBottomNearViewport=function(){return d[0].getBoundingClientRect().bottom<=(a.innerHeight||document.documentElement.clientHeight)+
100},c.getNumberOfColumns=function(){return Math.max(Math.floor(d[0].offsetWidth/240),1)},a.addEventListener("scroll",b,!0),c.$on("$destroy",function(){a.removeEventListener("scroll",b,!0)}))},templateUrl:"components/card-list/card-list.html",controller:"CardListDirectiveController",controllerAs:"CardList"}}]);angular.module("privacyCommonApp").controller("CardPromoDirectiveController",function(){return{card:null}});
angular.module("privacyCommonApp").directive("cardPromo",function(){return{restrict:"E",replace:!0,bindToController:{card:"<"},scope:!0,templateUrl:"components/card-promo/card-promo.html",controller:"CardPromoDirectiveController",controllerAs:"Promo"}});"use strict";
angular.module("privacyCommonApp").controller("DateSelectorDirectiveController",["$scope","$timeout",function(a,c){function d(){b.dt=b.options.singleDatePicker?moment(b.date||""):{startDate:moment(b.firstDate||b.lastDate||""),endDate:moment(b.lastDate||b.firstDate||"")}}var b={firstDate:null,lastDate:null,date:null,dt:null,maxDate:null,minDate:null,maxToday:null,onDateChange:null,position:null,drops:null,predefinedRanges:null,hideCustomRange:!1,hidePredefinedRange:!1,customRangeLabel:null,customClasses:"",
options:{showCustomRangeLabel:!0,locale:{separator:" - ",format:"MMM DD, YYYY",customRangeLabel:"Custom Range"},opens:"right",drops:"down",autoApply:!0,eventHandlers:{"apply.daterangepicker":function(){var a=b.onDateChange,c=b.dt;if(b.date)"function"===typeof a&&a(c.toDate());else{var d=c.startDate,c=c.endDate;"function"===typeof a&&a(d.toDate(),c.toDate())}}}}},e={"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().subtract(1,"months").startOf("month"),moment().subtract(1,"months").endOf("month")],
"Last 7 days":[moment().subtract(6,"days"),moment()],"Last 30 days":[moment().subtract(29,"days"),moment()],"Last 3 months":[moment().subtract(3,"months"),moment()]},h={Today:[moment(),moment()],Yesterday:[moment().subtract("1","days"),moment().subtract("1","days")],"Last Week":[moment().subtract("1","weeks"),moment().subtract("1","weeks")],"Last Month":[moment().subtract("1","months"),moment().subtract("1","months")]};c(function(){b.date&&(b.options.singleDatePicker=!0);b.maxToday&&(b.maxDate=moment());
b.customRangeLabel&&(b.options.locale.customRangeLabel=b.customRangeLabel);b.options.opens=b.position;b.options.drops=b.drops;b.options.showCustomRangeLabel=!b.hideCustomRange;a.$watchGroup([function(){return b.firstDate},function(){return b.lastDate},function(){return b.date}],d);if(!b.hidePredefinedRange)if(b.predefinedRanges)if(b.options.singleDatePicker){var c={};Object.keys(b.predefinedRanges).forEach(function(a){c[a]=Array.isArray(b.predefinedRanges[a])?b.predefinedRanges[a]:[b.predefinedRanges[a],
b.predefinedRanges[a]]});b.options.ranges=c}else b.options.ranges=b.predefinedRanges;else b.options.ranges=b.date?h:e});return b}]);"use strict";
angular.module("privacyCommonApp").directive("dateSelector",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{firstDate:"<",lastDate:"<",date:"<",position:"@",drops:"@",maxDate:"<",minDate:"<",maxToday:"<",onDateChange:"<",predefinedRanges:"<",hideCustomRange:"<",hidePredefinedRange:"<",singleDatePicker:"<",customRangeLabel:"@",customClasses:"@"},templateUrl:"components/date-selector/date-selector.html",controller:"DateSelectorDirectiveController",controllerAs:"dateSelector"}});
"use strict";
angular.module("privacyCommonApp").controller("DollarAmountDirectiveController",["$scope",function(a){function c(){var a=d.amount;0>Number(a)&&(a=a.replace("-",""),d.negative=!0);-1!==a.indexOf(".")&&(a=100*Number(a));a=Number(Number(a)/100).toFixed(2).split(".");d.dollars=Number(a[0]).toLocaleString("en-US");d.cents=a[1]}var d={amount:a.amount&&a.amount.toString(),dollars:0,cents:0,negative:!1,transaction:null};(function(){a.$watch("amount",function(){d.amount=String(a.amount);c()});d.amount&&c()})();
return d}]);"use strict";angular.module("privacyCommonApp").directive("dollarAmount",function(){return{restrict:"E",replace:!0,scope:{amount:"<",transaction:"<"},templateUrl:"components/dollar-amount/dollar-amount.html",controller:"DollarAmountDirectiveController",controllerAs:"dollarAmount"}});
angular.module("privacyCommonApp").controller("DropdownMenuDirectiveController",["$q","$sce",function(a){var c={click:function(d){d.onClick&&a.when(d.onClick()).then(function(){c.postClickCallback&&c.postClickCallback()})},dropdownMenu:null,postClickCallback:null};return c}]);"use strict";
angular.module("privacyCommonApp").directive("dropdownMenu",["$compile","$window","$templateRequest",function(a,c,d){return{restrict:"A",scope:!0,bindToController:{dropdownMenu:"=",postClickCallback:"&dropdownMenuCallback"},controller:"DropdownMenuDirectiveController",controllerAs:"Dropdown",link:function(b,e){function h(){if("open"===b.state)k();else{b.state="open";b.$apply();c.addEventListener("click",g);c.addEventListener("keydown",f);l[0].style.transform="";var a=angular.element(l[0]),d=angular.element(e[0]);
var h=a[0].getBoundingClientRect().top;var q=d[0].getBoundingClientRect().left+d.outerWidth();var r=a[0].getBoundingClientRect().left+a.outerWidth(),t=d[0].getBoundingClientRect().top+d.height(),w=t+a.outerHeight()+5;h=-1*(t-h)+5;q=-1*(r-q);w>c.innerHeight?(h=-1*(d.height()+a.outerHeight()+5),b.position="top"):b.position="bottom";b.$apply();a.css({transform:"translate("+q+"px, "+h+"px)"})}}function g(a){"open"!==b.state||e[0].contains(a.target)||k()}function f(a){"Escape"!==a.key&&"Escape"!==a.code||
k()}function k(){b.state="closed";b.$apply();c.removeEventListener("click",g);c.removeEventListener("keydown",f)}var l=null;d("components/dropdown-menu/dropdown-menu.html").then(function(c){l=angular.element(c);e.append(l);a(l)(b);e.on("click",h)})}}}]);angular.module("privacyCommonApp").controller("FundingSourceDirectiveController",function(){return{account:null,isSelected:null,size:null,hideDefaultBadge:null}});
angular.module("privacyCommonApp").directive("fundingSource",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{account:"<",isSelected:"<",size:"@",hideDefaultBadge:"<"},templateUrl:"components/funding-source/funding-source.html",controller:"FundingSourceDirectiveController",controllerAs:"Source"}});
angular.module("privacyCommonApp").controller("GemOpenerDirectiveController",["$document","$interval","GemService","Toast",function(a,c,d,b){var e={onClickRock:function(){e.initializeCracks();var a=c(function(){var h=parseInt(Math.random()*e.cracks.length);e.cracks[h]?(e.cracks[h].style="display: initial !important;",e.cracks.splice(h,1)):(c.cancel(a),e.loadingRedeem=!0,d.redeemGem().then(function(a){a=a.data.reward;var b=a.rate,c=a.durationMonths;e.title="It's a Gem!";e.subtitle="This Gem just unlocked "+
100*b+"% Cashback for "+c+" month"+(1<c?"s":"");e.gem.reward=a;e.showGem=!0})["catch"](function(){b.error("Error redeeming Gem")})["finally"](function(){e.hideFlash=!0}))},30)},initializeCracks:function(){a[0].querySelectorAll(".rock-cracks > g > path").forEach(function(a){e.cracks.push(a)})},onClickShareButton:function(a){if("facebook"===a&&e.onClickShare)e.onClickShare(e.gem.reward.gemType);if("twitter"===a&&e.onClickShareTwitter)e.onClickShareTwitter(e.gem.reward.gemType)},loadingRedeem:!1,hideFlash:!1,
loading:!0,title:"What's this?",subtitle:"Maybe there's something valuable inside\u2026",guideText:"Give it a little tap!",gem:null,showGem:!1,enabled:!1,reward:null,cracks:[],onClickShare:null,onClickShareTwitter:null};(function(){d.getActiveGemForUser().then(function(a){e.gem=a.data.gem;e.enabled=!0})["catch"](function(a){})["finally"](function(){e.loading=!1})})();return e}]);
angular.module("privacyCommonApp").directive("gemOpener",function(){return{restrict:"E",replace:!0,bindToController:{onClickShare:"<",onClickShareTwitter:"<"},scope:!0,templateUrl:"components/gem-opener/gem-opener.html",controller:"GemOpenerDirectiveController",controllerAs:"Gem"}});
angular.module("privacyCommonApp").controller("InterstitialCardCreateDirectiveController",["$timeout","$scope","CardService","ModalService","$rootScope",function(a,c,d,b,e){function h(){if(g.onClickSubmit)return g.onClickSubmit(g.card);g.loadingSave||(g.loadingSave=!0,d.createCard(g.card).then(function(a){var c=a.card;if(a.userToken)b.show("tfa",{rememberDevice:g.card.rememberDevice,tfaResponse:g.card.tfaResponse,onSubmit:function(a,b){var c=b.tfaResponse,d=b.rememberDevice;g.card.tfaResponse=c;g.card.rememberDevice=
void 0===d?!1:d;c&&h()}});else if(g.card.created||(g.card=c),g.onCreateSuccess)g.onCreateSuccess(c)})["catch"](function(){g.card.tfaResponse=null;g.card.rememberDevice=null})["finally"](function(){g.loadingSave=!1}))}var g={onClickCreate:h,updateCardFromList:function(){if(!g.card.created)return!1;d.getCards().then(function(a){if(a=a.cardList.all.find(function(a){return a.cardID===g.card.cardID}))g.card=a})},onClickToggleCashbackBoost:function(){g.loadingCashbackBoostRedeem||g.cashbackBoostOffer.redeemed||
g.toggleCashbackBoost(g.cashbackBoostOffer)},loadingSave:!1,card:null,state:null,onClickDetail:null,user:null,onUpdateSuccess:null,onClickSubmit:null,loading:null,isNewCard:null,submitButtonText:null,hasMerchantSelector:null,onCreateSuccess:null,toggleCashbackBoost:function(){},cashbackBoostOffer:{},loadingCashbackBoostRedeem:!1};a(function(){if(!g.card){var a=d.hasUnlockedCards(g.user)?d.CARD_TYPE.UNLOCKED:d.CARD_TYPE.MERCHANT_LOCKED;g.card=d.getBlankCard({type:a})}e.$on("card-list-update",function(){g.updateCardFromList()});
c.$watch(function(){return g.card},function(a){g.card=a});g.showLockToggle=d.hasUnlockedCards(g.user)});return g}]);
angular.module("privacyCommonApp").directive("interstitialCardCreate",function(){return{restrict:"E",replace:!0,bindToController:{card:"<?",user:"<",onUpdateSuccess:"<",onClickSubmit:"&?",onCreateSuccess:"<?",submitButtonText:"<?",loading:"<?",isNewCard:"<",hasMerchantSelector:"<",hideLimitSlider:"<?",showLockToggle:"<?",toggleCashbackBoost:"<?",loadingCashbackBoostRedeem:"<?",cashbackBoostOffer:"<?"},templateUrl:"components/interstitial-card-create/interstitial-card-create.html",controller:"InterstitialCardCreateDirectiveController",
controllerAs:"CardCreate"}});
angular.module("privacyCommonApp").controller("pwpMerchantSelectorDirectiveController",["$scope","$timeout","CardService",function(a,c,d){var b={getSuggestedMerchants:function(){d.getSuggestedMerchants().then(function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];b.state.pageState="DEFAULT";b.state.merchants=a;b.state.suggestedMerchants=a})["catch"](function(){b.state.pageState="DEFAULT"})},searchMerchants:function(a){c.cancel(b.queryTimeout);if(!a||2>a.length){b.state.pageState=
"DEFAULT";var e=!!b.state.suggestedMerchants.find(function(a){return a.hostname===_.get(b,"currentMerchant.hostname")}),g=[b.currentMerchant].concat(_toConsumableArray(b.state.suggestedMerchants));b.state.merchants=e||!b.currentMerchant?b.state.suggestedMerchants:g}else{b.state.pageState="LOADING";var f=[{},{},{},{},{},{}];b.queryTimeout=c(function(){d.searchMerchants(a).then(function(a){a=a.data;a=void 0===a?{}:a;a=a.merchants;b.state.pageState="DEFAULT";var c=!!a.find(function(a){return a.hostname===
_.get(b,"currentMerchant.hostname")}),d=a.filter(function(a){return a.id!==_.get(b,"currentMerchant.hostname")});b.state.merchants=c||!b.currentMerchant?a.concat(f):[b.currentMerchant].concat(_toConsumableArray(d)).concat(f)})["catch"](function(){b.state.pageState="DEFAULT"})},500)}},isCurrentMerchant:function(a){if(a&&b.currentMerchant)return b.currentMerchant.hostname===a.hostname},onSelectMerchant:function(a){_.get(b,"currentMerchant.hostname")===a.hostname?b.currentMerchant=null:b.currentMerchant=
a;if(b.onClickMerchant)b.onClickMerchant(a)},shouldShowCurrentMerchant:function(){return _.get(b,"state.merchants",[]).find(function(a){return a&&a.hostname===_.get(b,"currentMerchant.hostname")})&&"LOADING"!==b.state.pageState||!b.currentMerchant?!1:!0},getLogoSrc:d.getLogoSrc,previousMerchant:null,state:{pageState:"LOADING",merchants:[],suggestedMerchants:[]},isEdit:null,query:null,currentMerchant:null,onClickMerchant:null};c(function(){b.getSuggestedMerchants();a.$watch(function(){return b.query},
function(){b.searchMerchants(b.query)})});return b}]);"use strict";angular.module("privacyCommonApp").directive("pwpMerchantSelector",function(){return{restrict:"E",replace:!0,bindToController:{onClickMerchant:"=",onClickSkipMerchant:"=",onError:"=",isEdit:"<",query:"=",currentMerchant:"=?"},controller:"pwpMerchantSelectorDirectiveController",controllerAs:"MerchantSelector",templateUrl:"components/merchant-selector/merchant-selector.html"}});
angular.module("privacyCommonApp").controller("ModalAffiliateOfferController",["$uibModalInstance","PRIVACY_WEB_BUCKET_IMAGES","options",function(a,c,d){var b={closeModal:function(){a.close(0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1);if(d.onClose)d.onClose()},onPressCancel:function(){if(d.onPressCancel)d.onPressCancel();b.closeModal(!1)},onPressConfirm:function(){if(d.onPressConfirm)d.onPressConfirm();b.closeModal(!0)},getLogoSrc:function(){return c+"cards/"+b.logo},hostname:d.hostname||
"this site",cashbackRate:d.cashbackRate||.01,logo:d.logo||null,bgColor:d.bgColor||"#FFF",title:"",subtitle:""};return b}]);angular.module("privacyCommonApp").controller("ModalAlertController",["$uibModalInstance","options",function(a,c){return{closeModal:function(){a.close()},onPressConfirm:function(){a.close()},title:c.title||"Heads up!",subtitle:c.subtitle||"",buttonText:c.buttonText||"Okay"}}]);
angular.module("privacyCommonApp").controller("ModalCardCreateController",["$uibModalInstance","$timeout","$rootScope","$state","options",function(a,c,d,b,e){function h(){a.close()}return{closeModal:h,onCreateSuccess:function(a){e.closeOnSuccess&&c(h);if(e.onCreateSuccess)e.onCreateSuccess(a)},card:{},user:e.user,closeOnSuccess:e.closeOnSuccess||!1,hideLimitSlider:e.hideLimitSlider||!1}}]);"use strict";
angular.module("privacyCommonApp").controller("ModalCardEditFundingController",["$uibModalInstance","$timeout","$scope","CardService","EventService","options",function(a,c,d,b,e,h){function g(){a.close()}var f={closeModal:g,onPressFundingSource:function(a){f.viewFundingSourceId=a.bankAccountID;if(!f.loadingSave){f.loadingSave=!0;var d={bankAccountID:f.viewFundingSourceId};a=Object.assign({},f.card,d);if(h.isNewCard){if(c(function(){h.card=angular.merge(h.card,d);g()},250),h.onUpdateSuccess)h.onUpdateSuccess()}else b.update(f.card.cardID,
a).then(function(a){e.record({name:e.OBJECT_ACTIONS.CARD.SET_FUNDING_SOURCE,data:{}});h.card=angular.merge(h.card,a);g();if(h.onUpdateSuccess)h.onUpdateSuccess()})["finally"](function(){f.loadingSave=!1})}},isAccountSelected:function(a){return f.viewFundingSourceId===a},getUserFundingSources:function(){return _.get(f,"user.bankAccountList",[]).concat(_.get(f,"user.fundingCardList",[]))},loadingSave:!1,card:h.card,user:h.user};c(function(){d.$watch(function(){return f.state},function(){f.viewFundingSourceId=
_.get(f,"card.bankAccountID")})});return f}]);"use strict";
angular.module("privacyCommonApp").controller("ModalCardEditNicknameController",["$uibModalInstance","$timeout","CardService","ConfirmService","options","EventService",function(a,c,d,b,e,h){function g(){a.close()}var f={closeModal:g,onPressSave:function(){if(!f.loadingSave){f.loadingSave=!0;f.card.style=Object.assign({},f.cardEdit.style);var a=f.merchantOnly?{}:{memo:f.viewNickname},b=_.get(f,"card.meta",{}),c=_.get(f,"customStyle")&&(f.customStyle.bgColor||f.customStyle.icon);c?(a.meta=""===b?{}:
b,a.meta.customStyle=f.customStyle,a.meta.hostname=""):_.get(f,"viewStyle.hostname.length")?(a.meta=""===b?{}:b,a.meta.hostname=_.get(f,"viewStyle.hostname"),a.meta.customStyle=null,a.style=f.viewStyle,a.style.bgColor||(a.style.bgColor="ffffff"),f.merchantOnly&&(a.hostname=a.meta.hostname)):(a.meta=_.get(f,"card.meta",{}),a.meta.hostname="",a.style=null);if(e.isNewCard){if(e.card=angular.merge(e.card,a),g(),e.onUpdateSuccess)e.onUpdateSuccess()}else a=Object.assign({},f.card,a),d.update(f.card.cardID,
a).then(function(){f.editingNickname&&h.record({name:h.OBJECT_ACTIONS.CARD.SET_NICKNAME,data:{}});f.editingStyle&&h.record({name:h.OBJECT_ACTIONS.CARD.SET_STYLE,data:{styleType:c?"Custom":"Merchant"}});g();if(e.onUpdateSuccess)e.onUpdateSuccess()})["finally"](function(){f.loadingSave=!1})}},onChangeViewNickname:function(a){a&&!f.merchantOnly?f.viewNickname=a:f.merchantSelectorQuery=f.viewNickname;f.merchantOnly||(f.editingNickname=!0)},onClickMerchant:function(a){f.customStyle={};if(a===f.cardEdit.style)f.cardEdit.style=
f.initialState;else{if(""===f.viewNickname||""===f.merchantSelectorQuery)f.onChangeViewNickname(_.startCase(a.friendlyNames[0]||a.strippedHostname));f.editingStyle=!0;f.cardEdit.style=a}},editColor:function(a){f.customStyle.bgColor&&a===f.customStyle.bgColor?f.customStyle.bgColor=k:(f.viewStyle=null,a?f.customStyle.bgColor=a:delete f.customStyle.bgColor);f.editingStyle=!0;f.cardEdit.style=f.customStyle},editEmoji:function(a){if(f.customStyle.icon&&a===f.customStyle.icon)f.customStyle.icon="";else{f.viewStyle=
null;if(!f.cardEdit.style||f.cardEdit.style.hostname)f.customStyle.bgColor=k;f.customStyle.icon=a}f.editingStyle=!0;f.cardEdit.style=f.customStyle},viewNickname:"",viewStyle:null,merchantSelectorQuery:"",loadingSave:!1,card:e.card,cardEdit:null,hasMerchantSelector:e.hasMerchantSelector||!1,merchantOnly:e.merchantOnly,hidePendingCustomizeConfirm:!0,showBrands:!0,cardColors:[],cardEmojis:[],customStyle:{},initialState:null,editingStyle:!1,editingNickname:!1},k="28334B",l="\ud83c\udfe1 \ud83c\udf7d\ufe0f \ud83d\ude95 \ud83c\udfb6 \ud83d\udcfa \ud83d\udcf1 \ud83d\uded2 \ud83d\udcbb \ud83d\udcb5 \ud83c\udf0e \ud83d\udd2e \ud83d\udc8e \ud83c\udf55 \ud83d\udc7e \ud83d\udcaf \ud83d\udecd \ud83c\udfcb\ufe0f \ud83c\udf70 \ud83e\udd61 \ud83e\udd90".split(" ");
c(function(){f.viewNickname=f.merchantOnly?"":_.get(f,"card.memo","");f.viewStyle=_.get(f,"card.style");f.cardColors=["FF421C","FFA01C","FFDC88","00D071","0099FF","B088FF","FFB6FF","0B1730","B0BBD1",null,"007C71","0051FF","7948FF","bf0a77"];f.cardEmojis=l;f.showBrands=!_.get(f,"card.meta.customStyle");f.cardEdit=Object.assign({},e.card);f.viewStyle&&Object.assign(f.initialState={},f.viewStyle);f.merchantOnly&&(_.get(f.card,"meta.hostname")||_.get(f.card,"style.hostname")||_.get(f.card,"meta.customStyle"))?
c(function(){b.confirm({title:"Heads Up...",subtitle:"If you've already used this card with a merchant, changing the appearance won't change the merchant it locked to when it was first used.",confirmButtonText:"I Understand",cancelButtonText:"Cancel"}).then(function(b){b?f.hidePendingCustomizeConfirm=!1:a.dismiss()})},100):f.hidePendingCustomizeConfirm=!1;_.get(f,"card.meta.customStyle")&&(f.customStyle=f.card.meta.customStyle,f.viewStyle=null);c(function(){var a=angular.element("#modal-card-edit-nickname-input");
a&&a[0]&&(a.focus(),a[0].setSelectionRange(0,f.viewNickname.length))})});return f}]);"use strict";
angular.module("privacyCommonApp").controller("ModalCardEditLimitNewController",["$uibModalInstance","$timeout","$scope","CardService","EventService","Toast","options",function(a,c,d,b,e,h,g){function f(){a.close()}var k={closeModal:f,onPressSave:function(){var a=!k.isMaxLimit;if(!(a&&!k.viewSpendLimit||k.loadingSave||k.viewBurner&&1>parseInt(k.viewSpendLimit)))if(k.viewBurner&&!a)h.error("You can't remove the limit on a Single-Use card");else{k.loadingSave=a?"limit":"no-limit";var d={spendLimit:a?
parseInt(k.viewSpendLimit):"",spendLimitDuration:k.viewSpendLimitDuration||"MONTHLY",reloadable:!k.viewBurner};k.card.type!==b.CARD_TYPE.UNLOCKED&&(d.type=k.viewBurner?"SINGLE_USE":b.CARD_TYPE.MERCHANT_LOCKED);a=Object.assign({},k.card,d);if(g.isNewCard){if(g.card=angular.merge(g.card,d),f(),g.onUpdateSuccess)g.onUpdateSuccess()}else b.update(k.card.cardID,a).then(function(){e.record({name:e.OBJECT_ACTIONS.CARD.SET_SPEND_LIMIT,data:{cardType:d.type,spendLimit:d.spendLimit,spendLimitDuration:d.spendLimitDuration}});
g.card=angular.merge(g.card);f();if(g.onUpdateSuccess)g.onUpdateSuccess()})["catch"](function(a){422===a.status&&h.error("Couldn't Update Limit")})["finally"](function(){c(function(){k.loadingSave=!1},100)})}},onChangeViewSpendLimit:function(){k.viewSpendLimit=parseInt((k.viewSpendLimit||"1").replace("$",""))},onChangeViewSpendDuration:function(a){k.isMaxLimit||(k.viewSpendLimitDuration=a,k.viewBurner=!1)},onChangeViewBurner:function(){k.isMaxLimit||(k.viewBurner=!0)},checkNewLimit:function(a,b){b>=
k.durationSliderLimit?k.viewBurner?(parseInt(k.user.dailySpendLimit),k.viewSpendLimit=parseInt(k.user.dailySpendLimit)):k.isMaxLimit=!0:k.isMaxLimit=!1},loadingSave:!1,ready:!1,card:g.card,user:g.user,hideLimitSlider:g.hideLimitSlider||!1,viewSpendLimit:null,viewSpendLimitDuration:null,viewBurner:null,isMaxLimit:!1};c(function(){d.$watch(function(){return k.card},function(){k.durationSliderLimit=parseInt(k.user.dailySpendLimit)+5;k.viewBurner="SINGLE_USE"===_.get(k,"card.type");k.viewSpendLimit=_.get(k,
"card.spendLimit")||100;k.viewSpendLimitDuration=_.get(k,"card.spendLimitDuration")||"MONTHLY";k.slider={options:{floor:0,minLimit:1,ceil:k.durationSliderLimit,step:5,enforceStep:!1,hidePointerLabels:!0,hideLimitLabels:!0,onChange:k.checkNewLimit}};c(function(){k.ready=!0;c(function(){d.$broadcast("rzSliderForceRender");var a=angular.element("#modal-card-edit-spend-limit-input");a&&a[0]&&(a.focus(),a[0].setSelectionRange(0,100))})})})});return k}]);"use strict";
angular.module("privacyCommonApp").controller("ModalCardEditLimitController",["$uibModalInstance","$timeout","$scope","CardService","EventService","Toast","options",function(a,c,d,b,e,h,g){function f(){a.close()}var k={closeModal:f,showBurnerToggle:b.mutableType,onPressSave:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0;if(!(a&&!k.viewSpendLimit||k.loadingSave||k.viewBurner&&1>parseInt(k.viewSpendLimit))){k.loadingSave=a?"limit":"no-limit";var d={spendLimit:a?parseInt(k.viewSpendLimit):
"",spendLimitDuration:k.viewSpendLimitDuration||"MONTHLY"};b.mutableType(k.card)&&(d.type=k.viewBurner?b.CARD_TYPE.SINGLE_USE:b.CARD_TYPE.MERCHANT_LOCKED);a=Object.assign({},k.card,d);if(g.isNewCard){if(g.card=angular.merge(g.card,d),f(),g.onUpdateSuccess)g.onUpdateSuccess()}else b.update(k.card.cardID,a).then(function(){e.record({name:e.OBJECT_ACTIONS.CARD.SET_SPEND_LIMIT,data:{cardType:d.type,spendLimit:d.spendLimit,spendLimitDuration:d.spendLimitDuration}});g.card=angular.merge(g.card);f();if(g.onUpdateSuccess)g.onUpdateSuccess()})["catch"](function(a){422===
a.status&&h.error("Couldn't Update Limit")})["finally"](function(){c(function(){k.loadingSave=!1},100)})}},onChangeViewSpendLimit:function(){k.viewSpendLimitInt=parseInt((k.viewSpendLimit||"1").replace("$",""))},loadingSave:!1,ready:!1,card:g.card,user:g.user,hideLimitSlider:g.hideLimitSlider||!1,viewSpendLimit:1,viewSpendLimitInt:1,viewSpendLimitDuration:null,viewBurner:null};c(function(){d.$watch(function(){return k.card},function(){k.viewBurner="SINGLE_USE"===_.get(k,"card.type");k.viewSpendLimit=
_.get(k,"card.spendLimit")||100;k.viewSpendLimitDuration=_.get(k,"card.spendLimitDuration")||"MONTHLY";k.slider={options:{floor:0,minLimit:1,ceil:parseInt(k.user.dailySpendLimit),step:5,enforceStep:!1,hidePointerLabels:!0,hideLimitLabels:!0}};c(function(){k.ready=!0;c(function(){d.$broadcast("rzSliderForceRender");var a=angular.element("#modal-card-edit-spend-limit-input");a&&a[0]&&(a.focus(),a[0].setSelectionRange(0,100))})})})});return k}]);"use strict";
angular.module("privacyCommonApp").controller("ModalCardInspectorController",["$uibModalInstance","$timeout","options",function(a,c,d){var b={closeModal:function(){console.log("in close modal...");a.close()},user:d.user,card:d.card,transactionList:d.transactionList,cardList:d.cardList,inspectingTransaction:d.inspectingTransaction||!1,showDisputeModal:d.showDisputeModal};c(function(){console.log("in card inspector -- options are: ",d)});return b}]);"use strict";
angular.module("privacyCommonApp").controller("ModalConfirmController",["$uibModalInstance","options",function(a,c){var d={closeModal:function(){a.close()},onPressCancel:function(){a.close(!1)},onPressConfirm:function(){a.close(!0);d.confirmButtonCallback&&d.confirmButtonCallback()},title:c.title||"Are you sure?",subtitle:c.subtitle||"",cancelButtonText:c.cancelButtonText,confirmButtonText:c.confirmButtonText||"Confirm",confirmButtonCallback:c.confirmButtonCallback||null};return d}]);
angular.module("privacyCommonApp").controller("ModalGemController",["$uibModalInstance","options",function(a,c){return{closeModal:function(){a.close()},onClickShare:c.onClickShare||null,onClickShareTwitter:c.onClickShareTwitter||null}}]);"use strict";angular.module("privacyCommonApp").controller("ModalOverlayDirectiveController",["$scope",function(a){var c={isOpen:null,onClose:null,close:function(){if(a.onCloseExists)c.onClose();else c.isOpen=!1}};c.onClose=a.onClose;return c}]);"use strict";
angular.module("privacyCommonApp").directive("modalOverlay",["$window",function(a){return{restrict:"E",replace:!0,bindToController:{isOpen:"="},scope:{onClose:"&"},transclude:!0,templateUrl:"components/modal-overlay/modal-overlay.html",controller:"ModalOverlayDirectiveController",controllerAs:"Modal",link:function(c,d,b,e){c.onCloseExists="onClose"in b;a.addEventListener("keydown",function(a){if("Escape"===a.key||"Escape"===a.code)e.onClose()})}}}]);"use strict";
angular.module("privacyCommonApp").controller("ModalPromptController",["$uibModalInstance","options",function(a,c){function d(){a.close(b.inputValue)}var b={dismissModal:function(){a.dismiss()},onPressConfirm:d,handleInputKeypress:function(a){13===a.keyCode&&d()},title:c.title||"Please provide a string:",subtitle:c.subtitle||"",cancelButtonText:c.cancelButtonText,confirmButtonText:c.confirmButtonText||"OK",inputValue:_.get(c,"input.value")||_.get(c,"input.placeholder")||"",input:c.input};return b}]);
"use strict";
angular.module("privacyCommonApp").controller("ModalShareCardExplainerController",["$uibModal","$uibModalInstance","options","Toast","CardService",function(a,c,d,b,e){var h={onClickDismissModal:function(){c.dismiss()},onClickOK:function(){e.acceptSharingDisclosure().then(function(){_.set(h,"user.acceptedSharingDisclosureDate",!0);a.open({controller:"ModalShareCardController",controllerAs:"modal",templateUrl:"components/modal-share-card/modal-share-card.html",resolve:{options:{card:h.card,user:h.user}}});
c.close()})["catch"](function(a){b.error(a.data.message||"There was an error")})},card:d.card,user:d.user};return h}]);"use strict";
angular.module("privacyCommonApp").controller("ModalShareCardController",["$uibModalInstance","$uibModal","$timeout","options","CardService","Toast",function(a,c,d,b,e,h){function g(){f.showSuccessState&&(f.recipientEmail="",f.showSuccessState=!1)}var f={onClickDismissModal:function(){a.dismiss()},onSubmitShareForm:function(){f.shareLoading=!0;e.shareCard(f.recipientEmail,f.card.cardUuid||f.card.uuid).then(function(a){a=a.data;f.showSuccessState=!0;if(!f.recipientList.find(function(a){return a.email===
f.recipientEmail})){f.recipientList.push({email:f.recipientEmail});var c=_.get(b,"card.meta.recipients",[]);c.push(a.id);_.set(b,"card.meta.recipients",c)}d(g,4E3)})["catch"](function(a){h.error(a.data.message||"Whoops! Something went wrong.")})["finally"](function(){f.shareLoading=!1})},onClickReshare:function(a){a.reshareState="loading";e.shareCard(a.email,f.card.cardUuid||f.card.uuid).then(function(){a.reshareState="success";d(function(){a.reshareState=null},2E3)})["catch"](function(b){b=b.data;
a.reshareState=null;h.error(b.message||"Whoops! Something went wrong.")})},onClickDismissSuccess:g,card:b.card,user:b.user,shareErrorMessage:"",recipientEmail:"",shareLoading:!1,showSuccessState:!1,recipientList:_.get(b,"card.meta.recipients",[]),recipientListLoading:!1};(function(){0<f.recipientList.length&&(f.recipientListLoading=!0,e.getRecipientEmails(f.recipientList).then(function(a){f.recipientList=a.data.emails})["catch"](function(a){h.error(a.data.message||"Whoops! Something went wrong.")})["finally"](function(){f.recipientListLoading=
!1}));_.get(f,"user.acceptedSharingDisclosureDate")||c.open({templateUrl:"components/modal-share-card-explainer/modal-share-card-explainer.html",controller:"ModalShareCardExplainerController",controllerAs:"modal",resolve:{options:{card:f.card,user:f.user}}})})();return f}]);
angular.module("privacyCommonApp").controller("ModalTFAController",["$uibModalInstance","options",function(a,c){function d(){a.close()}return{closeModal:d,onTFASubmit:function(a,e){d();if(c.onSubmit)c.onSubmit(a,e)},rememberDevice:c.rememberDevice||!1,tfaResponse:c.tfaResponse||"",onSubmit:c.onSubmit}}]);
angular.module("privacyCommonApp").controller("OnPressEnterDirectiveController",["$scope","$window",function(a,c){function d(a){if("Enter"===a.key||"Enter"===a.code)b.onPressEnter()}var b={onPressEnter:null};(function(){c.addEventListener("keydown",d);a.$on("$destroy",function(){c.removeEventListener("keydown",d)})})();return b}]);
angular.module("privacyCommonApp").directive("onPressEnter",function(){return{restrict:"A",scope:!0,bindToController:{onPressEnter:"="},controller:"OnPressEnterDirectiveController",controllerAs:"Controller"}});"use strict";
angular.module("privacyCommonApp").controller("PillButtonDirectiveController",["$scope",function(a){function c(){d.classList=[];d.isDisabled?d.classList.push("-disabled"):d.classList=d.classList.filter(function(a){return"-disabled"!==a});d.classList.push({transparent:"-transparent","grey-lighter":"-grey-lighter",white:"-white",blue:"-blue",red:"-red",green:"-green",gold:"-gold",purple:"-purple","pastel-green":"-pastel-green",orange:"-orange","privacy-red":"-privacy-red","shadow-black":"-shadow-black",
"shadow-black-faint":"-shadow-black-faint","shadow-white":"-shadow-white","brand-twitter":"-brand-twitter","brand-facebook":"-brand-facebook"}[d.color]);d.classList.push({wide:"-wide",wider:"-wider",narrow:"-narrow"}[d.width]);d.classList.push({large:"-large",small:"-small",smaller:"-smaller"}[d.size]);d.classList.push({round:"-shape-round"}[d.shape])}var d={text:null,href:null,target:null,icon:null,iconSize:null,dropdownIcon:!0,count:null,noMaxCount:!1,image:null,imageWidth:null,color:null,size:null,
width:null,shape:null,dropdown:null,loading:!1,isDisabled:null,onClick:function(){},classList:[],onButtonPress:function(){if(!d.isDisabled&&!d.loading&&d.onClick)d.onClick()},success:!1,showSuccessVariant:function(){d.loading=!1;d.isDisabled=!0;d.text="Success!";d.icon="tick"}};(function(){a.$watchGroup([function(){return d.isDisabled},function(){return d.color}],c);a.$watch(function(){return d.success},function(a){a&&d.showSuccessVariant()})})();return d}]);"use strict";
angular.module("privacyCommonApp").directive("pillButton",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{text:"@",color:"@",width:"@",size:"@",shape:"@",href:"@",target:"@",icon:"@",iconSize:"@",count:"<",noMaxCount:"<",dropdownIcon:"<",image:"@",imageWidth:"@",loading:"<",isDisabled:"<",onClick:"&",success:"<"},templateUrl:"components/pill-button/pill-button.html",controller:"PillButtonDirectiveController",controllerAs:"Button",link:function(a,c,d,b){d.dropdownMenu&&d.dropdownMenu.length&&
(b.dropdown=!0);c.bind("keydown",function(c){if(13===c.keyCode||32===c.keyCode)b.onButtonPress();a.$apply()})}}});"use strict";
angular.module("privacyCommonApp").controller("PrivacyCardController",["$scope","$timeout","$uibModal","Toast","CardService","ConfirmService","PRIVACY_WEB_BUCKET_IMAGES",function(a,c,d,b,e,h,g){function f(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.style,a=a.type;return b&&b.filename&&"MERCHANT_LOCKED"===(void 0===a?"MERCHANT_LOCKED":a)?g+"cards/"+b.filename+"?lastModified="+(b.lastModified||""):""}var k={onClickConfirmClose:function(a){a&&a.stopPropagation();h.confirm({title:"Close this card?",
subtitle:"Are you sure? This can't be undone."}).then(function(a){a&&k.closeCard()})},closeCard:function(){var a=k.card.state;k.card.state="CLOSED";e.close(k.card.cardID).then(function(){k.card.state="CLOSED";b.success("Card Closed!")})["catch"](function(){k.card.state=a;b.error("Uh oh! We couldn't close your card.")})},onClickPause:function(a){a.stopPropagation();"OPEN"===k.card.state&&(k.card.state="PAUSED",e.pause(k.card.cardID).then(function(){k.card.state="PAUSED";b.success("Card Paused!")})["catch"](function(){k.card.state=
"OPEN";b.error("Uh oh! We couldn't pause your card.")}))},onClickResume:function(a){a.stopPropagation();"PAUSED"===k.card.state&&(k.card.state="OPEN",e.resume(k.card.cardID).then(function(){k.card.state="OPEN";b.success("Card Resumed!")})["catch"](function(){k.card.state="PAUSED";b.error("Uh oh! We couldn't resume your card.")}))},onClickCustomize:function(a){a.stopPropagation();d.open({controller:"ModalCardEditNicknameController",controllerAs:"modal",templateUrl:"components/modal-card-edit-nickname/modal-card-edit-nickname.html",
resolve:{options:{card:k.card,hasMerchantSelector:k.hasMerchantSelector,merchantOnly:!0}}})},getNetworkLogo:function(){var a="",a=_.get(k,"card.style")&&(!_.get(k,"card.style.bgColor")||"ffffff"===_.get(k,"card.style.bgColor"))&&"MERCHANT_LOCKED"===_.get(k,"card.type");return a=_.get(k,"card.network")?k.card.network:_.get([{name:a?"visa-dark":"visa",pattern:/^4/},{name:"mastercard",pattern:/^((222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)|(5[1-5]))/},{name:"jcb",pattern:/^(352[89]|35[3-8][0-9])/}].find(function(a){return a.pattern.test(_.get(k,
"card.PAN"))}),"name")},showControlsOnHover:null,showFirstHelper:!1};c(function(){a.getLogoSrc=f;a.$watch(function(){return k.card},function(a){if(a&&a.PAN){var b=k.card.PAN;k.card.panLast4=b.substr(12,16);k.card.panWithSpaces=b.substr(0,4)+" "+b.substr(4,4)+" "+b.substr(8,4)+" "+b.substr(12,4)}a&&a.promoCredit&&(k.card.formattedPromoCredit=numbro(a.promoCredit/100).formatCurrency("0,0[.]00"));a&&a.meta&&a.meta[e.GENERATED_FIRST_CARD]&&(k.showFirstHelper=!a.meta[e.GENERATED_FIRST_CARD_SEEN])});a.$watch(function(){return _.get(k,
"card.style.bgColor")},function(){"ffffff"===_.get(k,"card.style.bgColor","").toLowerCase()&&delete k.card.style.bgColor})});return k}]);"use strict";angular.module("privacyCommonApp").directive("privacyCard",function(){return{restrict:"E",scope:{small:"="},replace:!0,bindToController:{card:"=",onClickChangeMerchant:"=",allowChangeMerchant:"=",showMemo:"=",preview:"=",view:"=",showControlsOnHover:"<?"},templateUrl:"components/privacy-card/privacy-card.html",controller:"PrivacyCardController",controllerAs:"PrivacyCard"}});
"use strict";angular.module("privacyCommonApp").directive("privacyLogo",function(){return{restrict:"E",replace:!0,scope:{href:"@",shape:"@",size:"@",colorScheme:"@"},templateUrl:"components/privacy-logo/privacy-logo.html"}});angular.module("privacyCommonApp").directive("promoBubble",function(){return{restrict:"E",scope:{color:"<",message:"<"},replace:!0,templateUrl:"components/promo-bubble/promo-bubble.html"}});"use strict";
angular.module("privacyCommonApp").controller("PwpBankImgController",["$scope","pwpBankService",function(a,c){var d={width:null,height:null,bankSrc:null,bankName:null,fallbackSrc:"/assets/images/icons/bank-40.svg"};(function(){d.bankSrc=c.getLogo(d.bankName);a.$watch(function(){return d.bankName},function(a){d.bankName=a;d.bankSrc=c.getLogo(a)})})();return d}]);"use strict";
angular.module("privacyCommonApp").directive("pwpBankImg",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{bankName:"=bank",width:"@",height:"@"},templateUrl:"components/pwp-bank-img/pwp-bank-img.html",controller:"PwpBankImgController",controllerAs:"BankImg"}});"use strict";
angular.module("privacyCommonApp").controller("SearchInputController",["$scope","$timeout",function(a,c){var d={onChangeHandler:function(){"number"!==typeof d.debounce?d.debounce=0:1>d.debounce&&(d.debounce=0);0<d.debounce&&d.viewQuery.length&&(d.waiting=!0);c.cancel(d.queryTimeout);d.queryTimeout=c(function(){d.waiting=!1;d.query=d.viewQuery;if("function"===typeof d.onChange)d.onChange()},d.viewQuery.length||d.debounceOnEmpty?d.debounce:0)},placeholder:"Search",viewQuery:"",queryTimeout:null,query:null,
onChange:null,debounce:null,debounceOnEmpty:null,waiting:null};(function(){a.$watch(function(){return d.query},function(){d.viewQuery=d.query})})();return d}]);"use strict";angular.module("privacyCommonApp").directive("searchInput",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{placeholder:"@",query:"=",onChange:"&",debounce:"<",debounceOnEmpty:"<",waiting:"<?"},templateUrl:"components/search-input/search-input.html",controller:"SearchInputController",controllerAs:"Search"}});
"use strict";
angular.module("privacyCommonApp").controller("SpendingGraphController",["$timeout","$scope",function(a,c){function d(a){var b=[{type:"days",numberOf:1,totalDaysEstimate:1},{type:"days",numberOf:2,totalDaysEstimate:2},{type:"weeks",numberOf:1,totalDaysEstimate:7},{type:"weeks",numberOf:2,totalDaysEstimate:14},{type:"months",numberOf:1,totalDaysEstimate:30},{type:"months",numberOf:2,totalDaysEstimate:61},{type:"months",numberOf:3,totalDaysEstimate:91},{type:"months",numberOf:4,totalDaysEstimate:122},{type:"months",
numberOf:6,totalDaysEstimate:183},{type:"years",numberOf:1,totalDaysEstimate:365}],c=Infinity,d=b[0];b.forEach(function(b){var e=Math.abs(b.totalDaysEstimate*a-(g.columnWidth||30));e<c&&(d=b,c=e)});return d}function b(){var a=moment().subtract(1,"months").startOf("day"),b=moment().endOf("day");g.firstDate&&g.lastDate&&(a=moment(g.firstDate).startOf("day"),b=moment(g.lastDate).endOf("day"));var l=c.clientWidth,p=b.diff(a,"days"),m=d(l/p);g.bucket=m;for(var n=g.transactions.filter(function(c){var d=
moment(c.dateAuthorized||c.dateSettled);return(c.dateAuthorized||c.dateSettled)&&a.isSameOrBefore(d)&&b.isSameOrAfter(d)&&(!g.card||String(c.cardID)===String(_.get(g,"card.cardID",null)))}).reduce(function(a,b){var c=moment(b.dateAuthorized||b.dateSettled).startOf(m.type).valueOf();a[c]=(a[c]||0)+parseFloat(b.amount);return a},{}),l=[],p=a;b.isAfter(p);p=p.add(m.numberOf,m.type)){for(var q=moment(p).startOf(m.type).valueOf(),r=n[q]||0,t=1;t<m.numberOf;t+=1){var w=moment(q).add(t,m.type).valueOf(),
r=r+(n[w]||0);n[w]=null}n[q]=r;l.push(q.valueOf())}l=l.map(function(a){return 0>n[a]?{x:a,y:Math.abs(n[a]),color:"rgba(82, 204, 122, 0.3)",negative:!0}:{x:a,y:n[a]||0}});h.series[0].data=l;h.yAxis=angular.extend({},h.yAxis,e(l)?{max:10,visible:!1}:{max:null,visible:!0});g.chartConfig=angular.extend({},h)}function e(a){return a.every(function(a){return 0===a.y})}var h={chart:{className:"column-chart",type:"column",backgroundColor:"transparent",margin:[20,4,8,4]},title:{text:""},xAxis:{type:"datetime",
visible:!1,gridLineWidth:0},yAxis:{min:0,className:"y-axis",gridLineWidth:0,labels:{formatter:function(){return"\n                            $"+(this.value/100).toLocaleString()+"\n                        "},x:10,useHTML:!0,align:"left"},title:{enabled:!1},showFirstLabel:!1,showLastLabel:!1,tickPosition:"inside"},legend:{enabled:!1},tooltip:{animation:!1,distance:20,backgroundColor:"#3399FF",borderRadius:10,borderWidth:0,useHTML:!0,shadow:{color:"#202D4A",offsetX:0,offsetY:0,opacity:.06,width:4},
shared:!0,style:{color:"#FFFFFF",lineHeight:"20px"},outside:!0,formatter:function(){var a=Number(this.points[0].key),b=moment(a).format("ddd, MMM D"),a=moment(a).add(g.bucket.numberOf,g.bucket.type).subtract(1,"days").format("ddd, MMM D");return'<div class="tooltip-custom">\n                            '+b+"<br />\n                            "+("days"!==g.bucket.type||1!==g.bucket.numberOf?a+"<br />":"")+'\n                            <div class="amount">\n                                '+("rgba(82, 204, 122, 0.3)"===
(this.points[0]&&this.points[0].color)?"-":"")+"\n                                $"+(this.y/100).toLocaleString(void 0,{minimumFractionDigits:2})+"\n                            </div>\n                        </div>"}},credits:{enabled:!1},plotOptions:{column:{borderColor:"transparent",pointPadding:0,groupPadding:.05,borderRadius:4,shadow:!1,minPointLength:10}},series:[{animation:{duration:0},name:"Spend",color:"rgba(51, 153, 255, 0.2)",states:{hover:{color:"rgba(51, 153, 255, 0.5)"}},data:[]}]},
g={transactions:[],firstDate:null,lastDate:null,bucket:null,card:null,columnWidth:null,chartConfig:h};a(function(){c.$watchGroup([function(){return g.firstDate},function(){return g.lastDate},function(){return g.transactions},function(){return g.card},"clientWidth"],b)});return g}]);"use strict";
angular.module("privacyCommonApp").directive("spendingGraph",["$window",function(a){return{restrict:"E",replace:!0,scope:{},bindToController:{transactions:"<",card:"<",columnWidth:"<",firstDate:"<",lastDate:"<"},link:function(c,d){function b(){var a=d[0].getBoundingClientRect();c.clientWidth=a.width;c.$digest()}var e=d[0].getBoundingClientRect();c.clientWidth=e.width;angular.element(a).on("resize",b);c.$on("$destroy",function(){angular.element(a).off("resize",b)})},templateUrl:"components/spending-graph/spending-graph.html",
controller:"SpendingGraphController",controllerAs:"spendingGraph"}}]);"use strict";angular.module("privacyCommonApp").directive("spinner",function(){return{restrict:"E",scope:{loading:"=",color:"@",size:"@",text:"@"},replace:!0,templateUrl:"components/spinner/spinner.html"}});"use strict";angular.module("privacyCommonApp").controller("SvgIconController",function(){var a={getClassList:function(){var c=[];c.push("-size-"+a.size);return c},icon:null,size:null};return a});"use strict";
angular.module("privacyCommonApp").directive("svgIcon",["$http",function(a){return{restrict:"E",replace:!0,scope:!0,bindToController:{icon:"@",size:"@"},templateUrl:"components/svg-icon/svg-icon.html",controller:"SvgIconController",controllerAs:"SvgIcon",link:function(c,d){c.SvgIcon.icon&&a.get("/assets/images/icons/"+c.SvgIcon.icon+(c.SvgIcon.size?"-"+c.SvgIcon.size:"-20")+".svg",{cache:!0}).then(function(a){d.append(a.data)})}}}]);
angular.module("privacyCommonApp").controller("TFAFormController",function(){return{onPressBack:null,onSubmit:null,rememberDevice:null,tfaResponse:null,header:"Two-Factor Auth",explanation:"Please enter your time-based one-time access code below"}});angular.module("privacyCommonApp").directive("tfaForm",function(){return{restrict:"E",controller:"TFAFormController",controllerAs:"TFA",bindToController:{onSubmit:"<",onPressBack:"<",tfaResponse:"=",rememberDevice:"=",header:"@",explanation:"@"},templateUrl:"components/tfa-form/tfa-form.html"}});
angular.module("privacyCommonApp").controller("ToggleSwitchDirectiveController",function(){var a={onClickHandler:function(){if(a.onClick)a.onClick(a.value);else a.value=!a.value},value:null,onClick:null,color:null,size:null};return a});
angular.module("privacyCommonApp").directive("toggleSwitch",function(){return{restrict:"E",replace:!0,scope:!0,bindToController:{value:"=",onClick:"=?",color:"@",size:"@"},templateUrl:"components/toggle-switch/toggle-switch.html",controller:"ToggleSwitchDirectiveController",controllerAs:"Switch"}});angular.module("privacyCommonApp").controller("TooltipDirectiveController",["$scope","$timeout",function(a,c){c(function(){});return{tooltip:null,options:null}}]);"use strict";
angular.module("privacyCommonApp").directive("tooltip",["$compile","$window","$timeout","$templateRequest",function(a,c,d,b){return{restrict:"A",scope:!0,bindToController:{tooltip:"@",options:"<tooltipOptions"},controller:"TooltipDirectiveController",controllerAs:"Tooltip",link:function(e,h){function g(){"manual"===e.mode&&(e.Tooltip.options.show?l():m())}function f(){q=d(l,e.delay);d.cancel(r)}function k(){r=d(p,e.delayHide);d.cancel(q)}function l(){e.state="visible";"manual"!==e.mode&&e.$apply();
m()}function p(){e.state="hidden";"manual"!==e.mode&&e.$apply()}function m(){if(n&&n[0]){n[0].style.transform="";var a=angular.element(n[0]),b=angular.element(h[0]),c=0,d=0,f=n[0].getBoundingClientRect(),g=b[0].getBoundingClientRect();if("top"===e.position||"bottom"===e.position)d-=f.left-g.left+n.outerWidth()/2-b.outerWidth()/2;if("right"===e.position||"left"===e.position)c-=f.top-g.top+n.outerHeight()/2-b.outerHeight()/2;"top"===e.position&&(c-=f.top-g.top+n.outerHeight());"right"===e.position&&
(d-=f.left-g.left-b.outerWidth());"bottom"===e.position&&(c-=f.top-g.top-b.outerHeight());"left"===e.position&&(d-=f.left-g.left+n.outerWidth());a.css({transform:"translate("+d+"px, "+c+"px)"})}}e.state="hidden";e.position=_.get(e,"Tooltip.options.position","top");e.mode=void 0===_.get(e,"Tooltip.options.show",void 0)?null:"manual";e.color=_.get(e,"Tooltip.options.color","grey-dark");e.margin=_.get(e,"Tooltip.options.margin",null);e.width=_.get(e,"Tooltip.options.width",null);e.delay=_.get(e,"Tooltip.options.delay",
0);e.delayHide=_.get(e,"Tooltip.options.delayHide",0);e.contentTemplate=_.get(e,"Tooltip.options.contentTemplate",null);void 0!==_.get(e,"Tooltip.options.show",void 0)&&e.$watch(function(){return e.Tooltip.options.show},function(a){"manual"===e.mode&&void 0!==a&&(a?f():k())});var n=null,q=null,r=null;b("components/tooltip/tooltip.html").then(function(b){n=angular.element(b);angular.element(document.body).append(n);c.addEventListener("load",g);c.addEventListener("resize",m);"manual"!==e.mode&&(c.addEventListener("scroll",
p),h.on("mouseenter",f),h.on("mouseleave",k));a(n)(e)});e.$on("$destroy",function(){n&&n[0]&&n[0].remove();c.removeEventListener("scroll",p)})}}}]);
angular.module("privacyCommonApp").controller("TransactionInspectorDirectiveController",["$scope",function(a){var c={dropdownMenu:[],details:null,card:null,onClickCard:null,onPressBack:null,transaction:null,hideTransaction:null,closeTransactionDispute:null,showDisputeModal:null};(function(){a.$watch(function(){return c.details},function(a){(c.details=a)&&a.promoCreditAmount&&(c.details.amountAfterCredit=a.amount-a.promoCreditAmount)});a.$watch(function(){return c.card},function(a){c.card=a});a.$watch(function(){return c.transaction},
function(a){c.transaction=a});c.card=a.card;c.onClickCard=a.onClickCard;c.onPressBack=a.onPressBack})();return c}]);"use strict";
angular.module("privacyCommonApp").directive("transactionInspector",function(){return{restrict:"E",replace:!0,bindToController:{details:"<transaction",card:"<",onClickCard:"&",onPressBack:"=",hideTransaction:"=",closeTransactionDispute:"=",showDisputeModal:"=",transaction:"=",preventHideTransaction:"<?"},templateUrl:"components/transaction-inspector/transaction-inspector.html",controller:"TransactionInspectorDirectiveController",controllerAs:"Transaction"}});"use strict";
angular.module("privacyCommonApp").controller("TransactionListDirectiveController",["$scope","$timeout","$interval","DateService",function(a,c,d,b){function e(a){if(a&&a.length){var c=[],d={};a=[].concat(_toConsumableArray(a));g.limit&&(a=a.splice(0,g.limit));a.forEach(function(a){try{var e=moment.utc(a.dateAuthorized||a.dateSettled).toDate(),f=b.getRelativeDate(e);-1===c.indexOf(f)&&(c.push(f),d[f]=[]);d[f].push(a)}catch(q){console.log("Error post processing transaction. E=",q,". Transaction=",a)}});
return c.map(function(a,b){return{id:b,title:a,transactions:d[a]}})}}function h(){g.limit+=g.incrementBy||g.initialLimit;g.showDateBuckets&&(g.dateBuckets=e(g.transactions))}var g={getPromoTransactionAmount:function(a){return a&&a.promoCreditAmount?a.amount-a.promoCreditAmount:!1},transactions:null,showDateBuckets:null,infiniteScroll:null,dateBuckets:null,filterText:"",filterFields:["descriptor"],limit:null,initialLimit:null,incrementBy:null,onClickTransaction:null,hideColumns:null,loading:null,paginate:null,
incrementLimit:h,resetLimit:function(){g.limit=g.initialLimit;g.showDateBuckets&&(g.dateBuckets=e(g.transactions))},shouldShowMore:!1};c(function(){g.initialLimit=g.limit;if(g.infiniteScroll){var b=void 0;a.$watch(function(){return g.transactions},function(){b=d(function(){a.isBottomNearViewport()?h():d.cancel(b)},100)});a.$watch(function(){return a.shouldShowMore},function(a){a&&h()});a.$on("$destroy",function(){angular.isDefined(b)&&d.cancel(b)})}g.showDateBuckets&&a.$watch(function(){return g.transactions},
function(){g.dateBuckets=e(g.transactions)})});return g}]);"use strict";
angular.module("privacyCommonApp").directive("transactionList",["$window",function(a){return{restrict:"E",replace:!0,scope:!0,bindToController:{transactions:"<",onClickTransaction:"<",limit:"<",paginate:"=",incrementBy:"<",infiniteScroll:"<",showDateBuckets:"<",filterText:"<",hideColumns:"<",loading:"<"},link:function(c,d){function b(){c.$apply(function(){c.shouldShowMore=c.isBottomNearViewport()})}_.get(c,"TransactionList.infiniteScroll")&&(c.isBottomNearViewport=function(){return d[0].getBoundingClientRect().bottom<=
(a.innerHeight||document.documentElement.clientHeight)+100},a.addEventListener("scroll",b,!0),c.$on("$destroy",function(){a.removeEventListener("scroll",b,!0)}))},templateUrl:"components/transaction-list/transaction-list.html",controller:"TransactionListDirectiveController",controllerAs:"TransactionList"}}]);
angular.module("privacyCommonApp").run(["$templateCache",function(a){a.put("components/account-photo/account-photo.html",'<div ng-class="{ \'-empty\': !Photo.user || !Photo.user.photo }" class="account-photo"><label for="fileUpload" class="photo"><div for="fileUpload" ng-if="!Photo.user.photo" tooltip="Add Account Photo" tooltip-options="{ color: \'blue\', margin: 0 }" data-test="account-photo-placeholder" class="placeholder"><svg-icon ng-if="(!Photo.user || !Photo.user.photo) &amp;&amp; !Photo.loading" icon="camera"></svg-icon></div><img ng-if="Photo.user.photo" ng-src="/api/v1/user/getAccountPhoto/{{Photo.user.photo}}" image-loaded="Photo.handleLoad(error)" data-test="account-photo-image" class="image"><spinner loading="Photo.loading" class="-small"></spinner><input id="fileUpload" type="file" ngf-select="ngf-select" ngf-max-files="1" ngf-change="Photo.onClickUploadPhoto($event)" ngf-keep="true" ngf-pattern="\'.jpg,.png\'" ngf-accept="\'.jpg,.png\'" ngf-multiple="false" data-test="account-photo-input" class="photo-input"></label><div ng-if="Photo.user.photo" ng-click="Photo.onClickDeletePhoto()" tooltip="Remove Photo" tooltip-options="{ margin: 10 }" data-test="account-photo-delete" class="delete"><svg-icon icon="trash" size="12"></svg-icon></div></div>');a.put("components/affiliate-offer-bar/affiliate-offer-bar.html",
'<div ng-if="AffiliateOfferBar.offer" ng-class="{-condensed: !AffiliateOfferBar.offer.logo}" class="affiliate-offer-bar"><div ng-if="AffiliateOfferBar.offer.logo" ng-style="{ \'background-color\': AffiliateOfferBar.offer.bgColor }" class="logo"><div ng-style="{ \'background-image\': \'url(\' + AffiliateOfferBar.offer.logo + \')\', }" class="image"></div></div><div ng-if="!AffiliateOfferBar.offer.redeemError" class="text"><div class="title">Get a {{ AffiliateOfferBar.offer.rate * 100 }}% Cashback Boost</div><div class="subtitle">Receive extra cash back at {{ AffiliateOfferBar.offer.merchantName }}</div></div><div ng-if="AffiliateOfferBar.offer.redeemError" class="text error"><div class="title">Oops!</div><div class="subtitle">We had a problem redeeming your offer</div></div><div class="controls"><pill-button text="More Info" color="grey-lighter" on-click="AffiliateOfferBar.onClickOpenModal()" class="more-info-button"></pill-button><pill-button ng-if="!AffiliateOfferBar.offer.redeemed &amp;&amp; !AffiliateOfferBar.offer.redeemError" text="Activate" color="purple" on-click="AffiliateOfferBar.onClickActivate()" loading="AffiliateOfferBar.loadingRedeem" class="activate-button"></pill-button><pill-button ng-if="AffiliateOfferBar.offer.redeemed" icon="tick" text="Activated" color="purple" is-disabled="true" class="activate-button"></pill-button><pill-button ng-if="AffiliateOfferBar.offer.redeemError" icon="error" color="red" class="activate-button"></pill-button></div></div>');
a.put("components/affiliate-offer-toast/affiliate-offer-toast.html",'<div ng-if="AffiliateOfferToast.offer" class="affiliate-offer-toast"><div ng-if="AffiliateOfferToast.isOpen" ng-class="{expanded: AffiliateOfferToast.expanded &amp;&amp; !AffiliateOfferToast.offer.redeemed &amp;&amp; !AffiliateOfferToast.loadingRedeem,purple: AffiliateOfferToast.offer.redeemed || AffiliateOfferToast.loadingRedeem, red: AffiliateOfferToast.offer.redeemError}" class="toast-rect"><div ng-show="AffiliateOfferToast.loadingRedeem" class="offer-loading"></div><div ng-show="!AffiliateOfferToast.expanded &amp;&amp; !AffiliateOfferToast.offer.redeemError" ng-click="AffiliateOfferToast.expandToast()" class="offer-small"><div class="logo"><div ng-style="{ \'background-image\': \'url(assets/images/components/affiliates/sparkle-logo.svg)\' }" class="image"></div></div><div class="text">Activate {{AffiliateOfferToast.offer.rate * 100}}% Cashback Boost with Privacy...</div></div><div ng-show="!AffiliateOfferToast.offer.redeemed &amp;&amp; !AffiliateOfferToast.loadingRedeem &amp;&amp; !AffiliateOfferToast.offer.redeemError" class="offer-large"><div class="title">Cashback Boost</div><div class="subtitle">Click activate, and Privacy will open a new tab to activate your bonus Cashback at this merchant. It should only take a few seconds, and then you&#39;re all set!</div><pill-button text="Activate" color="purple" on-click="AffiliateOfferToast.onClickActivate()" class="activate-button"></pill-button></div><div ng-if="AffiliateOfferToast.offer.redeemed" ng-click="AffiliateOfferToast.closeToast()" class="offer-activated"><div class="logo"><div ng-style="{ \'background-image\': \'url(assets/images/components/affiliates/white-logo.svg)\' }" class="image"></div></div><div class="text">{{AffiliateOfferToast.offer.rate * 100}}% Cashback Activated!</div><div ng-style="{ \'background-image\': \'url(assets/images/icons/tick-20-white.svg)\' }" class="check image"></div></div><div ng-if="AffiliateOfferToast.offer.redeemError" ng-click="AffiliateOfferToast.closeToast()" class="offer-error"><div class="text">We had a problem redeeming your offer</div><div ng-style="{ \'background-image\': \'url(assets/images/icons/error-20-white.svg)\' }" class="error image"></div></div></div><div ng-click="AffiliateOfferToast.closeToast()" ng-if="AffiliateOfferToast.isOpen &amp;&amp; !AffiliateOfferToast.offer.redeemed &amp;&amp; !AffiliateOfferToast.offer.redeemError" class="toast-exit"><div ng-style="{ \'background-image\': \'url(assets/images/icons/cross-20.svg)\' }" class="image"></div></div></div>');
a.put("components/card-details/card-details.html",'<div ng-class="{ \'-disabled\': Details.card.state === \'CLOSED\' }" class="card-details"><div ng-class="{ \'-disabled\': Details.card.type === \'DIGITAL_WALLET\' }" ng-click="Details.onClickNickname()" class="detail"><div class="label">Nickname</div><div class="value">{{ Details.card.memo || Details.card.hostname || \'No Nickname\' }}</div></div><div ng-click="Details.onClickSpendLimit()" class="detail"><div class="label">Spend Limit</div><div ng-show="Details.card.spendLimit" class="value -spend-limit">${{ Details.card.spendLimit }} {{ Details.card.type === \'SINGLE_USE\' ? \'Single-use\' : Details.card.spendLimitDuration | parseTimePeriod }}</div><div ng-show="!Details.card.spendLimit" class="value -spend-limit">No limit</div></div><div ng-if="Details.shouldShowFundingSource()" ng-click="Details.onClickFundingSource()" ng-class="{ \'-disabled\': Details.getUserFundingSources().length &lt; 2 }" class="detail"><div class="label">Funding Source</div><div class="value"><funding-source ng-repeat="account in Details.getUserFundingSources()" ng-show="Details.isCardFundingAccount(account)" account="account" size="small" hide-default-badge="true"></funding-source></div></div></div>');
a.put("components/card-graph-list/card-graph-list.html",'<div class="card-graph-list"><search-input query="CardGraphList.searchTerm" placeholder="Filter cards"></search-input><div ng-class="{\'-selected\' : CardGraphList.selectedCard &amp;&amp; card.cardID === CardGraphList.selectedCard.cardID}" ng-hide="CardGraphList.loading" ng-repeat="card in CardGraphList.cards | orderBy:\'cardGraphListCalculatedValue\':true | filter:CardGraphList.searchTerm | limitTo: CardGraphList.currentLimit track by card.cardID" ng-click="CardGraphList.selectCard(card)" class="card"><div ng-style="{\'width\': CardGraphList.getWidth(card),                \'background-color\': card.style.bgColor ? (\'#\' + card.style.bgColor) : \'auto\'}" class="progress-bar"></div><div ng-style="card.style.filename &amp;&amp; card.type === \'MERCHANT_LOCKED\' &amp;&amp; {                    \'background-color\': \'#\' + (card.style.bgColor || \'FFF\')}" class="logo-container"><div style="background-image: url(\'{{CardGraphList.getLogoSrc(card)}}\')" class="card-logo -merchant"><div style="display: {{CardGraphList.getLogoSrc(card) ? \'none\' : \'flex\'}}" class="placeholder-image">{{\'&middot;&middot;&middot;\' + card.lastFour}}</div></div></div><div class="card-text">{{ card.memo || card.hostname || \'Unnamed Card\' }}</div><dollar-amount amount="CardGraphList.getTotalSpend(card)" transaction="true"></dollar-amount></div><div ng-if="CardGraphList.emptySlots &amp;&amp; (CardGraphList.cards | filter:CardGraphList.searchTerm).length &lt; CardGraphList.currentLimit" ng-repeat="x in CardGraphList.getEmptySlots(((CardGraphList.cards || []) | filter:CardGraphList.searchTerm)) track by $index" class="card -empty"><div class="progress-bar"></div><div class="logo-container"></div></div><div ng-if="!CardGraphList.emptySlots &amp;&amp; (CardGraphList.cards | filter:CardGraphList.searchTerm).length === 0" class="zero-state">{{(!CardGraphList.filterText || !CardGraphList.filterText.length) ? \'No cards\' : \'No cards found\'}}</div><div ng-show="CardGraphList.paginate &amp;&amp; !CardGraphList.infiniteScroll &amp;&amp; (CardGraphList.cards | filter:CardGraphList.searchTerm).length &gt; CardGraphList.limit" class="pagination-controls"><pill-button text="Show Fewer" color="grey-lighter" ng-show="CardGraphList.currentLimit &gt; CardGraphList.limit &amp;&amp; (CardGraphList.cards | filter:CardGraphList.searchTerm).length &gt; CardGraphList.limit" ng-click="CardGraphList.onClickShowFewer()"></pill-button><pill-button text="Show More" color="grey-lighter" ng-show="(CardGraphList.cards | filter:CardGraphList.searchTerm).length &gt; CardGraphList.currentLimit" ng-click="CardGraphList.onClickShowMore()"></pill-button></div><spinner loading="CardGraphList.loading"></spinner></div>');
a.put("components/card-inspector/card-inspector.html",'<div ng-class="{        \'modal\': Inspector.isModal,        \'-card\': Inspector.state !== \'TRANSACTIONS\',        \'-transactions\': Inspector.state === \'TRANSACTIONS\',        \'-zero-transactions\': !Inspector.transactions.length &amp;&amp; !Inspector.declines.length }" class="card-inspector"><div ng-if="Inspector.nonBlockingLoad" class="activity-spinner"><spinner loading="Inspector.nonBlockingLoad" size="small"></spinner></div><div class="tabs"><pill-button color="transparent" icon="chevron-left" size="small" width="narrower" ng-click="Inspector.onCloseModal()" class="back"></pill-button><div ng-click="Inspector.state = \'CARDS\'" ng-class="{ \'-active\': Inspector.state !== \'TRANSACTIONS\' }" class="tab">Card</div><div ng-click="Inspector.state = \'TRANSACTIONS\'" ng-class="{ \'-active\': Inspector.state === \'TRANSACTIONS\' }" class="tab">{{ Inspector.listView === \'DECLINES\' ? \'Declines\' : \'Transactions\' }}</div><div ng-show="Inspector.state === \'TRANSACTIONS\'" ng-click="Inspector.toggleListView()" class="list-toggle">{{ Inspector.listView === \'DECLINES\' ? \'Transactions\' : \'Declines\' }}</div></div><div class="card-info-wrap"><privacy-card card="Inspector.card"></privacy-card><card-promo card="Inspector.card"></card-promo><card-details card="Inspector.card" has-merchant-selector="Inspector.hasMerchantSelector" user="Inspector.user" hide-limit-slider="Inspector.hideLimitSlider"></card-details><div ng-hide="Inspector.card.state === \'CLOSED\'" ng-class="{ \'-disabled\': !Inspector.card.cardID }" class="controls"><pill-button ng-if="Inspector.card.state !== \'PAUSED\'" icon="pause" text="Pause" color="transparent" size="small" on-click="Inspector.pauseCard()" shape="round"></pill-button><pill-button ng-if="Inspector.card.state === \'PAUSED\'" icon="play" text="Unpause" color="transparent" size="small" on-click="Inspector.resumeCard()" shape="round"></pill-button><pill-button icon="trash" text="Close" color="transparent" size="small" on-click="Inspector.confirmCloseCard()" shape="round"></pill-button><pill-button ng-if="Inspector.card.reloadable === true &amp;&amp; Inspector.card.type !== \'DIGITAL_WALLET\'" icon="paint-roller" color="transparent" size="small" on-click="Inspector.onClickCustomize()" shape="round" tooltip="Customize"></pill-button><pill-button ng-if="Inspector.card.type !== \'DIGITAL_WALLET\'" icon="box-arrow-up" color="transparent" size="small" on-click="Inspector.onClickShareCard()" shape="round" tooltip="Share" count="Inspector.card.meta.recipients.length"></pill-button></div></div><div ng-show="Inspector.card.type === \'DIGITAL_WALLET\' &amp;&amp; Inspector.card.unused" class="digital-wallet-modal"><div class="heading">Add your new card...</div><div class="body">Manually enter your new card details to your Apple Pay, Google Pay, or Samsung Pay app on your mobile device.</div></div><div ng-show="Inspector.card.created &amp;&amp; !(Inspector.card.type === \'DIGITAL_WALLET\' &amp;&amp; Inspector.card.unused)" ng-class="{ \'-disabled\': Inspector.cardConfigState.isEditing }" class="card-transactions-modal"><div ng-show="!Inspector.inspectingTransaction" class="heading"><div class="title">{{ Inspector.listView === \'DECLINES\' ? \'Declines\' : \'Transactions\' }}</div><div ng-click="Inspector.toggleListView()" class="list-toggle">Show {{ Inspector.listView === \'DECLINES\' ? \'Transactions\' : \'Declines\' }}</div></div><div class="list"><transaction-list ng-show="!Inspector.inspectingTransaction" transactions="Inspector.listView === \'DECLINES\' ? Inspector.declines : Inspector.transactions" on-click-transaction="Inspector.inspectTransaction" hide-columns="{ settlement: true }" show-date-buckets="true"></transaction-list><transaction-inspector ng-show="Inspector.inspectingTransaction" transaction="Inspector.inspectingTransaction" on-press-back="Inspector.closeTransactionInspector" close-transaction-dispute="Inspector.confirmCloseTransactionDispute" show-dispute-modal="Inspector.showDisputeModal" prevent-hide-transaction="Inspector.preventHideTransaction" hide-transaction="Inspector.confirmHideTransaction"></transaction-inspector></div></div><div ng-show="!Inspector.card.cardID" class="card-explanation-modal"><div class="description"><p>Here\'s your first card!</p><p>Give it a nickname and add a spend limit if you want!</p><p>Activate this card and reveal the card numbers by connecting a funding source.</p><pill-button text="Connect a Funding Source" color="green" size="small" width="narrow" ng-click="Inspector.onClickConnect()"></pill-button></div></div></div>');
a.put("components/card-list/card-list.html",'<div class="card-list"><div ng-hide="CardList.loading" ng-repeat="card in CardList.cards | filterByFields:CardList.filterText:CardList.filterFields | limitTo: CardList.limit track by card.cardID " class="card"><privacy-card card="card" preview="CardList.preview" ng-click="CardList.onClickCard(card)"></privacy-card></div><div ng-if="(CardList.cards | filterByFields:CardList.filterText:CardList.filterFields).length === 0" class="zero-state">{{(!CardList.filterText || !CardList.filterText.length) ? \'No cards\' : \'No cards found\'}}</div><div ng-show="CardList.paginate &amp;&amp; !CardList.infiniteScroll &amp;&amp; (CardList.cards | filterByFields:CardList.filterText:CardList.filterFields).length" class="pagination-controls"><pill-button text="Show Fewer" color="grey-lighter" ng-show="CardList.limit &gt; CardList.initialLimit &amp;&amp; (CardList.cards | filterByFields:CardList.filterText:CardList.filterFields).length &gt; CardList.initialLimit" ng-click="CardList.onClickShowFewer()"></pill-button><pill-button text="Show More" color="grey-lighter" ng-show="(CardList.cards | filterByFields:CardList.filterText:CardList.filterFields).length &gt; CardList.limit" ng-click="CardList.onClickShowMore()"></pill-button></div><spinner loading="CardList.loading"></spinner></div>');
a.put("components/card-promo/card-promo.html",'<div ng-if="Promo.card.promoCredit" class="card-promo"><div class="callout"></div><div class="content"><div class="details"><div class="label">{{ Promo.card.meta.promoCardExpirationMilliseconds ? \'Expiring \' : \'Promo \' }} Credit</div><timer ng-show="Promo.card.meta.promoCardExpirationMilliseconds" end-time="Promo.card.meta.promoCardExpirationMilliseconds">{{hhours}}:{{mminutes}}:{{sseconds}}</timer></div><div class="credit">${{ Promo.card.promoCredit / 100 }}</div></div></div>');
a.put("components/date-selector/date-selector.html",'<div class="date-selector"><div class="date-picker"><input date-range-picker="date-range-picker" ng-class="{ \'-single\' : dateSelector.date ? true : false }" type="text" picker-classes="{{                dateSelector.hideCustomRange                ? (\'date-picker -hidden-custom \' + dateSelector.customClasses)                : (\'date-picker \' + dateSelector.customClasses)            }}" ng-model="dateSelector.dt" max="dateSelector.maxDate" options="dateSelector.options" readonly class="picker"></div><svg-icon icon="caret-down"></svg-icon></div>');
a.put("components/dollar-amount/dollar-amount.html",'<div class="dollar-amount"><div ng-if="dollarAmount.transaction &amp;&amp; dollarAmount.negative" class="refund">+</div><div ng-if="!dollarAmount.transaction &amp;&amp; dollarAmount.negative" class="negative">-</div><div class="currency">$</div><div class="dollars">{{ dollarAmount.dollars }}</div><div class="cents">.{{ dollarAmount.cents || \'00\' }}</div></div>');a.put("components/dropdown-menu/dropdown-menu.html",'<div ng-class="[ \'-\' + state, \'-\' + position ]" class="dropdown-menu"><ul><li ng-if="item" ng-hide="item.hideEval ? $eval(item.hideEval) : item.hide" ng-repeat="item in Dropdown.dropdownMenu track by $index" ng-class="{ \'break\': item.break }"><a ng-class="item.class" ng-click="Dropdown.click(item)" ng-href="{{ item.href }}" ng-attr-target="{{ item.target }}"><svg-icon ng-if="item.icon" icon="{{ item.icon }}" size="{{ item.iconSize }}"></svg-icon><div class="label"><span ng-bind-html="item.label"></span><span ng-if="item.subLabel.length" ng-bind-html="item.subLabel" class="sub-label"></span></div></a></li></ul></div>');
a.put("components/funding-source/funding-source.html",'<div ng-class="{ \'-selected\': Source.isSelected, \'-small\': Source.size === \'small\' }" class="funding-source"><div class="icon"><pwp-bank-img ng-if="Source.account.bank" bank="Source.account.bank" width="40"></pwp-bank-img><svg-icon ng-if="!Source.account.bank" icon="card" size="80" class="card-icon"></svg-icon></div><div class="details"><div ng-title="{{ Source.account.accountName }}" class="name">{{ Source.account.nickname || Source.account.accountName || Source.account.network }}</div><div class="account"><span ng-if="Source.account.default &amp;&amp; !Source.hideDefaultBadge" class="note -blue">{{ Source.account.default ? \'Default\' : \'\' }}</span><span ng-if="Source.account.isPending || Source.account.state === \'PENDING\'" class="note">Pending</span><div title="{{ Source.account.bankName || Source.account.bank }}" class="provider">{{ Source.account.bankName || Source.account.bank }}</div><div class="number">&middot; &middot; &middot; {{ Source.account.number || Source.account.lastFour }}</div></div></div><div ng-show="Source.isSelected" class="checkmark"><svg-icon icon="tick"></svg-icon></div></div>');
a.put("components/gem-opener/gem-opener.html",'<div class="gem-opener-container"><div ng-if="Gem.loading" class="gem-opener"><spinner loading="true" color="white"></spinner></div><div ng-show="!Gem.loading &amp;&amp; !Gem.enabled" class="gem-opener empty-state"><div class="text"><div class="title">There\'s nothing here</div><div class="subtitle">Check back later</div></div></div><div ng-show="!Gem.loading &amp;&amp; Gem.enabled" class="gem-opener"><div ng-class="[ \'gem-\' + Gem.gem.reward.gemType , { \'-clickable\': Gem.showGem }]" class="text"><div class="title">{{ Gem.title }}</div><div class="subtitle">{{ Gem.subtitle }}</div><div ng-show="!Gem.showGem" class="guide-text">{{ Gem.guideText }}</div><div ng-show="Gem.showGem &amp;&amp; (Gem.onClickShare|| Gem.onClickShareTwitter)" class="share-button-container"><div class="note">Brag about your win on social media!</div><pill-button color="grey-dark" icon="brand-facebook" ng-show="Gem.showGem &amp;&amp; Gem.onClickShare" width="wide" on-click="Gem.onClickShareButton(\'facebook\')"></pill-button><pill-button color="grey-dark" icon="brand-twitter" ng-show="Gem.showGem &amp;&amp; Gem.onClickShareTwitter" width="wide" on-click="Gem.onClickShareButton(\'twitter\')"></pill-button></div></div><div ng-show="!Gem.showGem" class="sparkles"><div class="sparkle sparkle-1"><img src="/assets/images/home/gems-page/sparkle-1.svg"></div><div class="sparkle sparkle-2"><img src="/assets/images/home/gems-page/sparkle-2.svg"></div><div class="sparkle sparkle-3"><img src="/assets/images/home/gems-page/sparkle-3.svg"></div></div><div ng-show="Gem.showGem" class="sparkles"><div class="sparkle sparkle-4"><img src="/assets/images/home/gems-page/sparkle-1.svg"></div><div class="sparkle sparkle-5"><img src="/assets/images/home/gems-page/sparkle-2.svg"></div><div class="sparkle sparkle-6"><img src="/assets/images/home/gems-page/sparkle-3.svg"></div><div class="sparkle sparkle-7"><img src="/assets/images/home/gems-page/sparkle-4.svg"></div><div class="sparkle sparkle-8"><img src="/assets/images/home/gems-page/sparkle-4.svg"></div></div><div ng-show="!Gem.showGem" class="rock-glow"></div><div ng-show="!Gem.showGem" ng-mousedown="Gem.onClickRock()" class="rock"><div class="rock-click-animation"><img src="/assets/images/home/gems-page/rock-1.png" width="272" class="rock-image"><svg class="rock-cracks" width="260" height="259" xmlns="http://www.w3.org/2000/svg"><g fill="#1A2133" fill-rule="nonzero"><path d="M128.954 124.218l-.15.243-31.002 37.264-1.627-1.154 32.87-54.878 33.002-34.718 1.506 1.312-26.536 33.288z"><path d="M136.422 104.093l36.927 10.38-.46 1.944-38.232-7.36-7.821.655 5.407-3.779z"><path d="M71.424 133.456l-20.687 16.421-26.34 15.647-22.02 22.17-.738-.679-.355-1.119 20.55-24.195 20.221-13.384 22.296-18.067 16.091-14.039.46-.226 49.435-9.97 6.58-.988-6.613 4.58-.63.506-48.048 12.76z"><path d="M64.034 77.41l1.962.382-4.494 27.925-13.235 39.937-.32.462-4.633 3.755-1.567-1.125 15.58-42.036zM72.33 256.317l22.008-96.597.198-.407 31.962-39.49 1.586 1.217-29.85 41.03-12.906 63.696-12.01 31.47zM215.835 35.623c.55.488 1.177.98 1.881 1.477l-9.08 12.772-.38.321-45.268 21.895-.948-1.76 41.76-24.931 10.57-11.268a14.39 14.39 0 0 0 1.465 1.494z"><path d="M96.296 162.622l-28.07-5.495.27-1.979 29.07 2.248.878 1.291-1 3.248z"><path d="M76.252 122.1l.62-.676 5.576-2.05 1.272 1.316-4.14 10.198-10.99 27.08-1.892-.637zM78.413 157.722l.966-.74h3.258l.96 1.279-12.014 41.327-19.52 40.233-.998-.756-.688-.425 17.167-40.468z"><path d="M77.841 121.672l-1.733-.996 28.67-52.773.638-.493 49.901-12.413.536 1.927-47.628 14.661z"><path d="M154.681 55.404l1.887-.627 7.237 15.739-.105 1.013-3 4.048-1.781-.386zM108.193 66.847l1.097 1.36-2 4.934-.927.625H79.797l-.17-1.986zM170.367 114.617l.205-.176 25.197-16.337 1.228 1.569-48.036 45.017-.364.217-50.827 17.177-1.184-1.45 1.77-3.045.537-.442 48.81-16.95zM178.446 73.054l-.931-1.147.406-2.71 1.062-.85 29.514 3.56 33.95 1.192c.148.693.305 1.385.47 2.075.166.69.464 1.281.895 1.773h-37.735l-27.63-3.893z"><path d="M162.034 72.702l-.14-1.99 16.86-2.371 1.018.513 16.86 31.1-1.72 1.019-18.298-28.27z"><path d="M204.266 71.747l.943-.666h4.241l.892 1.452-14.053 27.7-1.834-.786zM147.859 142.014l.27-.405 6.79-6.158 1.577 1.165-18.978 40.415-1.847-.76zM157.22 55.254l-1.19 1.6-19.525-12.238-.388-.454-6.275-14.67 1.723-.988 9.03 12.172z"><path d="M80.065 72.063l-1.316-1.504 21.553-20.512.446-.246 36.088-9.043 1.01.327 1.8 2.15-.53 1.614-36.045 8.737zM96.03 160.35l1.871-.7 15.85 38.007.013.738L91.42 257.68l-1.883-.674 19.515-57.6z"><path d="M109.597 200.27l.061-1.753 2.72-1.368 1.036.083 23.04 16.657-1.096 1.67zM202.27 164.22l.563 1.919-52.244 17.065-.697-.028-54.053-22.618.71-1.868 54.769 18.803z"><path d="M147.686 179.601l1.218-.608 3.732 1.095.632 1.366-15.415 34.637-.094.167-26.552 37.932-1.658-1.118 25.13-38.739zM194.815 98.883l1.916.566-7.739 32.46-.704.732-40.241 11.203-.612-1.902 36.935-13.522z"><path d="M248.725 119.673l.732 1.86-28.996 12.24-.425.078-32.053-1.174-.944-1.194.62-3.122 1.059-.802 31.726 2.46z"><path d="M217.8 133.908l.744-1.668h3.045l.801.401 15.037 20.125-1.545 1.267z"><path d="M217.648 132.795l.896-.555h3.045l.86 1.51-18.573 31.315-1.756-.955zM81.397 159.653L49.134 198.02l-25.362 24.759-1.662-1.615 21.845-29.322 34.3-34.97 1.368-.055 1.663 1.437zM259.927 103.784l-66.469 7.779-1.034-1.39 2.335-5.4.88-.601 63.809-2.404c.12.258.223.569.31.934.086.365.143.725.169 1.082zM66.998 74.566l.17-.07 12.66-3.941.757 1.843-13.704 7.087-21.266 14.242-.24.118-16.278 5.417-.49.036-12.718-2.255L.66 102.335l3.668-7.02.334-1.162 10.395-2.234.375-.009 14.197 2.373z"><path d="M29.91 94.332l5.946.67.806 1.391-25.629 59.281-1.868-.708 17.5-53.404 1.17-3.57 1.016-2.989 1.059-.671z"><path d="M26.845 97.39l-9.136-46.604 1.63-2.049 15.044 46.835-.723 1.28-5.605 1.32zM159.72 13.677l11.7-8.408 2.865.56-13.398 11.41-.172.119-27.81 15.071-.758.08-47.1-13.753.5-1.935L132.3 27.297zM177.352 255.84l-21.954-23.805-.11-1.214 40.948-64.481.446-.381 6.337-2.752 1.228 1.475-44.336 65.87 22.548 21.852z"><path d="M115.822 256.517l41.351-27.272 1.39.29 3.585 5.518-.403 1.445-44.937 21.754zM257.734 169.336l-4.312 9.804-24.06 10.057-1.366-1.12 7.19-35.554 1.973.315-3.329 28.377z"><path d="M228.78 184.428l1.108-.492 4.702 1.115.59 1.545-24.894 35.728-1.697-1.053zM111.692 25.448l-1.848-.734 4.169-15.028.403-.56L127.628.173c2.725 1.016 4.546 1.58 5.463 1.694.917.114 2.359.083 4.325-.093l.063.356-18.536 9.59-7.251 13.727zM30.096 41.688L74.28 24.913l.771 1.844-44.355 20.311-.223.072-11.734 2.314 5.339-7.169.608-.597z"></g></svg></div></div><div ng-show="Gem.showGem" class="gem"><img ng-class="{\'gem-{{Gem.gem.reward.gemType}}\' : Gem.gem.reward.gemType}" ng-src="/assets/images/home/gems-page/gem-{{ Gem.gem.reward.gemType }}.png" width="280"></div><div ng-show="Gem.showGem" ng-class="[ \'gem-\' + Gem.gem.reward.gemType ]" class="debris"><div class="debris debris-1"><svg width="67" height="49" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a1" d="M34.366.855L0 38.228l42.92 5.256 13.305 4.918L66.58.855z"></defs><g fill="none" fill-rule="evenodd"><mask id="b1" fill="#fff"><use xlink:href="#a1"></mask><use fill="#596574" xlink:href="#a1"><path fill="#E1F4F9" mask="url(#b1)" d="M76.268-3.62L0 38.678 9.514 2l58.398-16.304z"><path class="glow" fill="none" mask="url(#b1)" d="M67.047.57L-.633 38.393l59.055 14.373z"></g></svg></div><div class="debris debris-2"><svg width="41" height="35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a2" d="M27.581.957L10.3 12.87.317 23.975 27.58 33.988 40.1 35.561l-2.76-26.863z"></defs><g transform="translate(0 -1)" fill="none" fill-rule="evenodd"><mask id="b2" fill="#fff"><use xlink:href="#a2"></mask><use fill="#596574" xlink:href="#a2"><path d="M42.499 37.7L9.5 10.83-1.922 24.983l28.83 11.505 15.59 1.212z" class="glow" fill="none" mask="url(#b2)"><path fill="#909FAC" mask="url(#b2)" d="M8.177 12.598L27.902-7.3 41.266 7.892z"></g></svg></div><div class="debris debris-3"><svg width="31" height="48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a3" d="M24.822 0L0 36.504l10.145 3.463 30.005-29.12z"></defs><g transform="rotate(-65 20.24 23.928)" fill="none" fill-rule="evenodd"><mask id="b3" fill="#fff"><use xlink:href="#a3"></mask><use fill="#474E5F" xlink:href="#a3"><path class="glow" fill="none" mask="url(#b3)" d="M26.967-5.604L-10.382 33.3 8.713 45.09z"></g></svg></div><div class="debris debris-4"><svg width="23" height="18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a4" d="M10.453.707l-9.67 11.12 10.311 5.652 9.32-.106 2.47-11.256z"></defs><g fill="none" fill-rule="evenodd"><mask id="b4" fill="#fff"><use xlink:href="#a4"></mask><use fill="#686971" xlink:href="#a4"><path fill="#474E5F" mask="url(#b4)" d="M23.767 21.364l-12.37-4.095L9.67-2.334l18.739 8.171z"></g></svg></div><div class="debris debris-5"><svg width="39" height="47" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a5" d="M36.334 11.03L21.777.542 1.927 17.775 0 46.375l38.224-3.234z"></defs><g transform="translate(.704 .34)" fill="none" fill-rule="evenodd"><mask id="b5" fill="#fff"><use xlink:href="#a5"></mask><use fill="#596574" xlink:href="#a5"><path fill="#626670" mask="url(#b5)" d="M41.552 48.835L13.325 20.34l9.515-36.678 24.13 29.582z"><path fill="#768896" mask="url(#b5)" d="M-6.455 59.624l19.78-39.284 14.452-36.168-37.866 33.916z"><path d="M13.61 21.017l7.931-23.19-28.425 12.685-7.774 48.316 66.971-2.561-38.703-35.25z" class="glow" fill="none" mask="url(#b5)"></g></svg></div><div class="debris debris-6"><svg width="51" height="16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a6" d="M29.153.974L0 16.814h50.178z"></defs><g transform="translate(0 -1)" fill="none" fill-rule="evenodd"><mask id="b6" fill="#fff"><use xlink:href="#a6"></mask><use fill="#596574" xlink:href="#a6"><path class="glow" fill="none" mask="url(#b6)" d="M29.218-1.09L-5.91 18.313l35.128 4.443z"><path fill="#6D6D73" mask="url(#b6)" d="M28.903 26.83V-.539L56.63 18.017z"></g></svg></div><div class="debris debris-7"><svg width="25" height="36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a7" d="M.453 36.81l24.022-17.03L5.36.927z"></defs><g transform="translate(0 -1)" fill="none" fill-rule="evenodd"><mask id="b7" fill="#fff"><use xlink:href="#a7"></mask><use fill="#596574" xlink:href="#a7"><path class="glow" fill="none" mask="url(#b7)" d="M12.346 18.251L4.736-.644-9 24.585l9.227 13.22z"><path fill="#878A8B" mask="url(#b7)" d="M.127 37.044l11.813-19.44 15.672 2.298z"></g></svg></div><div class="debris debris-8"><svg width="56" height="68" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a8" d="M2.449 7.603L40.519.282l14.775 11.294-26.179 56.09L.487 33.065z"></defs><g transform="translate(-.038 -.026)" fill="none" fill-rule="evenodd"><mask id="b8" fill="#fff"><use xlink:href="#a8"></mask><use fill="#6D6D73" xlink:href="#a8"><path class="glow" fill="none" mask="url(#b8)" d="M43.325-8L-9-.124l.334 33.398 38.971-2.522z"><path fill="#9C9189" mask="url(#b8)" d="M63.553 4.014L30.558 30.96l-2.365 45.676 37.945-42.249z"><path fill="#82898D" mask="url(#b8)" d="M-1.706 32.315l32.287-1.522-1.588 40.718z"></g></svg></div><div class="debris debris-9"><svg width="34" height="37" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a9" d="M0 4.977l25.827 31.562 7.503-18.27L25.827 0z"></defs><g fill="none" fill-rule="evenodd"><mask id="b9" fill="#fff"><use xlink:href="#a9"></mask><use fill="#596574" xlink:href="#a9"><path class="glow" fill="none" mask="url(#b9)" d="M29.747-3.948L-2.369 1.396l-1.847 18.31 16.14 2.252z"><path fill="#D2D1BF" mask="url(#b9)" d="M9.966 24.471L26.46-1.158l10.154 20.072-9.63 20.072z"></g></svg></div><div class="debris debris-10"><svg width="51" height="46" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a10" d="M44.098 45.12l-21.75-1.459L.246 32.546 15.513.022l34.769 6.581z"></defs><g fill="none" fill-rule="evenodd"><mask id="b10" fill="#fff"><use xlink:href="#a10"></mask><use fill="#596574" xlink:href="#a10"><path class="glow" fill="none" mask="url(#b10)" d="M51.965 5.691l-57.91 31.975 7.73-41.65 40.228-7.688z"><path fill="#D2D1BF" mask="url(#b10)" d="M-6.09 35.068L52.2 5.414l9.126 50.147z"><path fill="#FDF9F3" mask="url(#b10)" d="M15.014 52.385L50.33 5.293l10.996 50.268z"></g></svg></div><div class="debris debris-11"><svg width="42" height="28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a11" d="M19.31 0L0 19.103l33.969 8.675L41.37 9.38z"></defs><g fill="none" fill-rule="evenodd"><mask id="b11" fill="#fff"><use xlink:href="#a11"></mask><use fill="#82898D" xlink:href="#a11"><path fill="#768896" mask="url(#b11)" d="M-1.557 18.322L17.526-2.024 36.61 33.248z"><path fill="#474E5F" mask="url(#b11)" d="M-1.557 18.322l26.93-7.17L36.61 33.248z"><path class="glow" fill="none" mask="url(#b11)" d="M16.407-4.433l8.687 16.334 21.21-3.075z"><path fill="#D4D1BB" mask="url(#b11)" d="M-1.557 18.322l39.434 15.463 6.178-24.963-20.105 1.98z"></g></svg></div><div class="debris debris-12"><svg width="25" height="21" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a12" d="M7.989 0L0 14.064l12.858 6.852L24.253 2.841z"></defs><g fill="none" fill-rule="evenodd"><mask id="b12" fill="#fff"><use xlink:href="#a12"></mask><use fill="#596574" xlink:href="#a12"><path class="glow" fill="none" mask="url(#b12)" d="M34.737-4.846L5.399-2.241l9.06 31.477z"><path fill="#474E5F" mask="url(#b12)" d="M6.51-.887l8.34 28.3-28.297.501z"></g></svg></div><div class="debris debris-13"><svg width="36" height="57" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a13" d="M.04 30.75l3.893 26.293 23.735-20.36 8.138-17.27V0H17.005z"></defs><g fill="none" fill-rule="evenodd"><mask id="b13" fill="#fff"><use xlink:href="#a13"></mask><use fill="#596574" xlink:href="#a13"><path class="glow" fill="none" mask="url(#b13)" d="M41.09-9.615L15.011-8.13l14.4 55.371 12.386-26.597z"><path fill="#474E5F" mask="url(#b13)" d="M-27.227 24.497l61.14 15.305-43.072 34.584z"></g></svg></div><div class="debris debris-14"><svg width="33" height="19" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a14" d="M0 4l16.425 14.963 16.426-5.354L21.32.652z"></defs><g fill="none" fill-rule="evenodd"><mask id="b14" fill="#fff"><use xlink:href="#a14"></mask><use fill="#788E9D" xlink:href="#a14"><path class="glow" fill="none" mask="url(#b14)" d="M22.277-.153l-6.44 21.158 25.54-3.878z"></g></svg></div><div class="debris debris-15"><svg width="30" height="35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a15" d="M4.166 0l10.777 7.57 14.944 27.045L0 25.956z"></defs><g fill="none" fill-rule="evenodd"><mask id="b15" fill="#fff"><use xlink:href="#a15"></mask><use fill="#596574" xlink:href="#a15"><path class="glow" fill="none" mask="url(#b15)" d="M18.345 4.164L-3.151 29.902l37.7 14.349 7.614-9.547z"><path fill="#E9F7FA" mask="url(#b15)" d="M2.425-5.646L19.096 3.14l-29.891 37.874z"></g></svg></div><div class="debris debris-16"><svg width="44" height="64" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a16" d="M13.448.415L0 63.483l35.643-6.106 8.044-28.386z"></defs><g transform="translate(.042 .091)" fill="none" fill-rule="evenodd"><mask id="b16" fill="#fff"><use xlink:href="#a16"></mask><use fill="#929FAC" xlink:href="#a16"><path class="glow" fill="none" mask="url(#b16)" d="M44.806 30.412L14.2 34.036-.06 65l37.785-4.603z"><path fill="#DAF1F7" mask="url(#b16)" d="M13.158-.252l.43 35.057-17.152 39.074z"></g></svg></div></div><div ng-show="Gem.loadingRedeem" ng-class="{\'fade-out\': Gem.hideFlash }" class="reveal-flash"></div></div></div>');
a.put("components/interstitial-card-create/interstitial-card-create.html",'<div class="interstitial-card-create"><privacy-card card="CardCreate.card"></privacy-card><div class="details-container"><div class="callout"></div><card-details is-new-card="!CardCreate.card.created || CardCreate.isNewCard" card="CardCreate.card" user="CardCreate.user" hide-limit-slider="CardCreate.hideLimitSlider" has-merchant-selector="CardCreate.hasMerchantSelector"></card-details><div ng-show="CardCreate.cashbackBoostOffer.reward" tooltip="tooltip" tooltip-options="{ position: \'right\', width: \'230px\', margin: \'20px\', delay: 500, title: \'Cashback Boost\', body: \'Flip the switch and you\\\'ll get \' + CardCreate.cashbackBoostOffer.reward * 100 + \'% Cashback for this purchase. Look out for more of these offers in the future!\' }" class="bonus-cashback-switch"><div class="label"><div class="text">{{ CardCreate.cashbackBoostOffer.reward * 100 }}% Cashback Boost</div><toggle-switch value="CardCreate.cashbackBoostOffer.redeemed" on-click="CardCreate.onClickToggleCashbackBoost" color="gold"></toggle-switch></div></div></div><div class="buttons"><pill-button ng-show="CardCreate.showLockToggle" icon="padlock" color="{{ CardCreate.card.type === \'UNLOCKED\' ? \'white\' : \'grey-dark\' }}" on-click="CardCreate.card.type = (CardCreate.card.type === \'UNLOCKED\' ? \'MERCHANT_LOCKED\' : \'UNLOCKED\')" class="lock-toggle"></pill-button><pill-button ng-show="!CardCreate.card.created || CardCreate.onClickSubmit" text="{{ CardCreate.submitButtonText ? CardCreate.submitButtonText : \'Create Card\' }}" width="wide" loading="CardCreate.loadingSave || CardCreate.loading" on-click="CardCreate.onClickCreate()" class="create-button"></pill-button></div></div>');
a.put("components/merchant-selector/merchant-selector.html",'<div class="pwp-merchant-selector"><div ng-class="{ \'-loading\': MerchantSelector.state.pageState === \'LOADING\' }" class="merchant-list"><div ng-show="!MerchantSelector.state.merchants.length" class="zero-state">We couldn\'t find any associated logos for that nickname</div><div ng-style="{ \'background-color\': \'#\' + merchant.bgColor }" ng-class="{ \'-selected\': MerchantSelector.isCurrentMerchant(merchant), \'-blank\': !merchant.hostname }" ng-show="MerchantSelector.state.merchants.length" ng-click="MerchantSelector.onSelectMerchant(merchant)" ng-repeat="merchant in MerchantSelector.state.merchants |                limitTo: (6)" class="merchant"><img alt="" ng-src="{{MerchantSelector.getLogoSrc(merchant)}}"></div></div></div>');
a.put("components/modal-affiliate-offer/modal-affiliate-offer.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-affiliate-offer"><div ng-if="modal.logo" ng-style="modal.bgColor &amp;&amp; {                \'background-color\': modal.bgColor }" class="logo-container"><div style="background-image: url(\'{{modal.getLogoSrc()}}\')" class="card-logo -merchant"></div></div><div class="title">Get {{modal.cashbackRate * 100}}% Extra Cashback!</div><div class="subtitle">We\'ve found an offer for an additional {{modal.cashbackRate * 100}}% Cashback at {{modal.hostname}}</div><div class="controls"><pill-button text="Activate Extra Cashback" color="grey-dark" size="large" ng-click="modal.onPressConfirm()"></pill-button><a href="" ng-click="modal.onPressCancel()" class="close">No thanks</a></div></div></div></div>');
a.put("components/modal-alert/modal-alert.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-alert"><div class="title">{{ modal.title }}</div><div ng-show="modal.subtitle" class="subtitle">{{ modal.subtitle }}</div><div class="controls"><pill-button text="{{ modal.buttonText }}" color="grey-dark" size="small" width="narrow" ng-click="modal.onPressConfirm()"></pill-button></div></div></div></div>');a.put("components/modal-card-create/modal-card-create.html",
'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop light"></div><div class="content"><div class="modal-confirm card-create-modal"><interstitial-card-create user="modal.user" has-merchant-selector="true" on-create-success="modal.onCreateSuccess" hide-limit-slider="modal.hideLimitSlider"></interstitial-card-create></div></div></div>');a.put("components/modal-card-edit-funding-source/modal-card-edit-funding-source.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-card-edit-funding"><div class="header"><div class="title">Funding Source</div></div><div class="funding-source-list"><funding-source ng-repeat="account in modal.getUserFundingSources()" account="account" is-selected="modal.viewFundingSourceId === account.bankAccountID" ng-click="modal.onPressFundingSource(account)"></funding-source></div></div></div></div>');
a.put("components/modal-card-edit-nickname/modal-card-edit-nickname.html",'<div ng-if="!modal.hidePendingCustomizeConfirm" class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div ng-class="{\'-nickname-only\' : !modal.merchantOnly }" on-press-enter="modal.onPressSave" class="modal-card-edit-nickname"><div ng-if="modal.merchantOnly" class="card-preview"><div ng-click="modal.closeModal()" class="close-click"></div><privacy-card card="modal.cardEdit"></privacy-card><div ng-click="modal.closeModal()" class="close-click"></div></div><div ng-class="{\'-merchant-only\' : modal.merchantOnly }" class="edit-content"><div class="header"><div class="title">{{ modal.merchantOnly ? \'Change Appearance\' : \'Nickname\' }}</div></div><div ng-show="modal.merchantOnly" class="appearance-selector-bar"><div ng-class="{\'-active\': modal.showBrands}" ng-click="modal.showBrands = !modal.showBrands" class="appearance-selector">Brands</div><div ng-class="{\'-active\': !modal.showBrands}" ng-click="modal.showBrands = !modal.showBrands" class="appearance-selector">Custom</div></div><div ng-show="modal.showBrands || !modal.merchantOnly" ng-class="{ \'-nickname-only\': !modal.merchantOnly }" class="brands-content"><div class="nickname-input-wrap"><input id="modal-card-edit-nickname-input" type="text" ng-model="modal.viewNickname" ng-change="modal.onChangeViewNickname()" ng-class="{ \'-search\': modal.merchantOnly }" size="1" placeholder="{{ modal.merchantOnly ? \'Search\' : \'Nickname\' }}" autofocus autocorrect="off" spellcheck maxlength="40" class="nickname-input"><pill-button ng-if="!modal.merchantOnly" text="Save" width="wide" shape="round" color="blue" loading="modal.loadingSave" on-click="modal.onPressSave()"></pill-button></div><div ng-show="modal.merchantOnly || modal.hasMerchantSelector &amp;&amp; modal.card.unused !== false &amp;&amp; !modal.card.hostname &amp;&amp; modal.card.type === \'MERCHANT_LOCKED\'" class="merchant-selector-wrap"><h4>{{ modal.merchantSelectorQuery.length > 2 ? modal.merchantOnly ? \'Search Results\' : \'Suggested Logos\' : \'Popular Cards\' }}</h4><pwp-merchant-selector on-click-merchant="modal.onClickMerchant" query="modal.merchantSelectorQuery" current-merchant="modal.viewStyle"></pwp-merchant-selector></div></div><div ng-show="modal.merchantOnly &amp;&amp; !modal.showBrands" class="custom-content"><div class="custom-picker -color"><div ng-repeat="color in modal.cardColors.slice(0, 7)" ng-style="{backgroundColor : \'#\'+color}" ng-class="{\'-active\' : modal.cardEdit.style.bgColor === color}" ng-click="modal.editColor(color)" class="color"></div></div><div class="custom-picker -color"><div ng-repeat="color in modal.cardColors.slice(7, 14)" ng-style="{backgroundColor : \'#\'+color}" ng-class="{\'-active\' : modal.cardEdit.style.bgColor === color}" ng-click="modal.editColor(color)" class="color"></div></div><div class="custom-picker -emoji"><div ng-repeat="emoji in modal.cardEmojis" ng-class="{\'-active\' : modal.cardEdit.style.icon === emoji}" ng-click="modal.editEmoji(emoji)" class="emoji"><p>{{emoji}}</p></div></div></div><pill-button ng-if="modal.merchantOnly" text="Save" width="wide" shape="round" color="blue" loading="modal.loadingSave" on-click="modal.onPressSave()"></pill-button></div></div></div></div>');
a.put("components/modal-card-edit-spend-limit-new/modal-card-edit-spend-limit-new.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div ng-if="modal.ready" class="content"><div on-press-enter="modal.onPressSave" class="modal-card-edit-spend-limit-new"><div class="header"><div class="title">Spend Limit</div></div><div class="spend-limit-container"><input ng-if="!modal.isMaxLimit" id="modal-card-edit-spend-limit-input" format-as-currency="format-as-currency" currency-filter="\'currencyModelFilter\'" ng-model="modal.viewSpendLimit" ng-change="modal.onChangeViewSpendLimit()" size="1" maxlength="7" autofill="false" class="spend-limit"><div ng-if="modal.isMaxLimit" class="spend-limit -unlimited">No Limit</div><div class="slider-range"><div class="range-label">$1</div><div ng-if="!modal.hideLimitSlider" class="outer-slider"><rzslider rz-slider-model="modal.viewSpendLimit" rz-slider-options="modal.slider.options"></rzslider></div><div class="range-label -end">&infin;</div></div></div><div class="duration-select"><div class="button-grid"><button ng-click="modal.onChangeViewSpendDuration(\'MONTHLY\')" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'MONTHLY\' &amp;&amp; modal.viewBurner == false, \'-disabled\': modal.isMaxLimit }" class="duration-button">Per Month</button><button ng-click="modal.onChangeViewSpendDuration(\'ANNUALLY\')" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'ANNUALLY\' &amp;&amp; modal.viewBurner == false, \'-disabled\': modal.isMaxLimit }" class="duration-button">Per Year</button><button ng-click="modal.onChangeViewSpendDuration(\'TRANSACTION\')" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'TRANSACTION\' &amp;&amp; modal.viewBurner == false, \'-disabled\': modal.isMaxLimit }" class="duration-button">Per Charge</button><button ng-click="modal.onChangeViewSpendDuration(\'FOREVER\')" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'FOREVER\' &amp;&amp; modal.viewBurner == false, \'-disabled\': modal.isMaxLimit }" class="duration-button">Total</button><button ng-click="modal.onChangeViewBurner()" ng-class="{ \'-active\': modal.viewBurner == true, \'-disabled\': modal.isMaxLimit }" class="duration-button">Single-Use <span>Closes shortly after first use</span></button></div><pill-button text="{{modal.isMaxLimit ? \'Set No Limit\' : \'Set $\' + modal.viewSpendLimit + \' Spend Limit\'}}" color="blue" on-click="modal.onPressSave()" shape="round"></pill-button></div></div></div></div>');
a.put("components/modal-card-edit-spend-limit/modal-card-edit-spend-limit.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div ng-if="modal.ready" class="content"><div on-press-enter="modal.onPressSave" class="modal-card-edit-spend-limit"><div class="header"><div class="title">Spend Limit</div></div><div class="spend-limit-container"><input id="modal-card-edit-spend-limit-input" format-as-currency="format-as-currency" currency-filter="\'currencyModelFilter\'" ng-model="modal.viewSpendLimit" ng-change="modal.onChangeViewSpendLimit()" size="1" placeholder="" maxlength="7" class="spend-limit"><select ng-model="modal.viewSpendLimitDuration" ng-show="!modal.viewBurner" class="duration-select-mobile"><option value="TRANSACTION">Per Charge</option><option value="MONTHLY">Per Month</option><option value="ANNUALLY">Per Year</option><option value="FOREVER">Total</option></select></div><div ng-if="!modal.hideLimitSlider" class="outer-slider"><rzslider rz-slider-model="modal.viewSpendLimit" rz-slider-options="modal.slider.options"></rzslider></div><div ng-class="{ \'-hidden\': modal.viewBurner }" class="duration-select"><pill-button text="Per Charge" color="transparent" on-click="modal.viewSpendLimitDuration = \'TRANSACTION\'" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'TRANSACTION\' }"></pill-button><pill-button text="Per Month" color="transparent" on-click="modal.viewSpendLimitDuration = \'MONTHLY\'" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'MONTHLY\' }"></pill-button><pill-button text="Per Year" color="transparent" on-click="modal.viewSpendLimitDuration = \'ANNUALLY\'" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'ANNUALLY\' }"></pill-button><pill-button text="Total" color="transparent" on-click="modal.viewSpendLimitDuration = \'FOREVER\'" ng-class="{ \'-active\': modal.viewSpendLimitDuration == \'FOREVER\' }"></pill-button></div><div class="controls"><div ng-show="modal.showBurnerToggle(modal.card)" class="burner-switch"><toggle-switch value="modal.viewBurner" color="privacy-red"></toggle-switch><div class="label">Single-use</div></div><pill-button width="narrow" color="grey-lighter" text="{{ modal.card.spendLimit ? \'Remove\' : \'No\' }} Limit" loading="modal.loadingSave === \'no-limit\'" is-disabled="modal.viewBurner" on-click="modal.onPressSave(false)" class="next-button"></pill-button><pill-button width="narrow" text="{{ modal.card.spendLimit ? \'Save\' : \'Add\' }} Limit" loading="modal.loadingSave === \'limit\'" is-disabled="modal.loadingSave || modal.viewSpendLimit &lt; 1 || modal.viewSpendLimit == null || modal.viewSpendLimit &gt; controller.user.dailySpendLimit" on-click="modal.onPressSave()" class="next-button"></pill-button></div></div></div></div>');
a.put("components/modal-card-inspector/modal-card-inspector.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-card-inspector"><card-inspector is-modal="true" card="modal.card" user="modal.user" card-list="modal.cardList" transaction-list="modal.transactionList" has-merchant-selector="true" inspecting-transaction="modal.inspectingTransaction" show-dispute-modal="modal.showDisputeModal" on-close-modal="modal.closeModal"></card-inspector></div></div></div>');
a.put("components/modal-confirm/modal-confirm.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-confirm"><div class="title">{{ modal.title }}</div><div ng-show="modal.subtitle" class="subtitle">{{ modal.subtitle }}</div><div class="controls"><pill-button ng-if="modal.cancelButtonText" text="{{ modal.cancelButtonText }}" color="grey-lighter" size="small" width="narrow" ng-click="modal.onPressCancel()" shape="round"></pill-button><pill-button text="{{ modal.confirmButtonText }}" color="blue" size="small" width="narrow" ng-click="modal.onPressConfirm()" shape="round"></pill-button></div></div></div></div>');
a.put("components/modal-gem/modal-gem.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-gem"><div ng-click="modal.closeModal()" class="close-button"></div><gem-opener on-click-share="modal.onClickShare" on-click-share-twitter="modal.onClickShareTwitter"></gem-opener></div></div></div>');a.put("components/modal-overlay/modal-overlay.html",'<div ng-show="Modal.isOpen" class="modal-overlay"><div ng-click="Modal.close()" class="backdrop"></div><div ng-transclude="ng-transclude" class="content"></div></div>');
a.put("components/modal-prompt/modal-prompt.html",'<div class="modal-overlay"><div ng-click="modal.dismissModal()" class="backdrop"></div><div class="content"><div class="modal-confirm modal-prompt"><div class="title">{{ modal.title }}</div><div ng-show="modal.subtitle" class="subtitle">{{ modal.subtitle }}</div><input type="text" ng-model="modal.inputValue" value="{{ modal.input.value }}" placeholder="{{ modal.input.placeholder }}" ng-maxlength="modal.input.maxlength" autofocus ng-keypress="modal.handleInputKeypress($event)" class="textinput"><div class="controls"><pill-button ng-if="modal.cancelButtonText" text="{{ modal.cancelButtonText }}" color="grey-lighter" size="small" width="narrow" ng-click="modal.dismissModal()" shape="round"></pill-button><pill-button text="{{ modal.confirmButtonText }}" color="blue" size="small" width="narrow" ng-click="modal.onPressConfirm()" shape="round"></pill-button></div></div></div></div>');
a.put("components/modal-share-card-explainer/modal-share-card-explainer.html",'<div class="modal-overlay"><div ng-click="modal.onClickDismissModal()" class="backdrop"></div><div class="content"><div class="modal-share-card-explainer"><div class="title">Card Sharing</div><p>Whether it\'s loaning a friend a few bucks for shared expenses, or surprising someone with a prepaid card as a gift, Card Sharing lets you share Privacy cards with friends and family easily and securely. Be safe, and only share Privacy cards with people you trust.</p><div class="terms"><p>You understand that you are responsible for all activity on this card. Individuals you share this card with can still authorize transactions but are not financially responsible. Your connected funding source will be charged for any transactions authorized on this card by any individual you share this card with.</p><p>By sharing a card with an individual, you are confirming that you have a relationship with the person or people whose contact information you have provided and that all their information is correct, and that you have their consent to share cards with them. If we determine any of this information you have provided to be false, or obtained without consent, your Privacy account may be permanently suspended.</p></div><pill-button color="blue" text="I Agree" on-click="modal.onClickOK()" width="wider" shape="round" class="ok-button"></pill-button></div></div></div>');
a.put("components/modal-share-card/modal-share-card.html",'<div class="modal-overlay"><div ng-click="modal.onClickDismissModal()" class="backdrop"></div><div class="content"><div class="modal-share-card"><div class="title">Share this card</div><div ng-if="modal.shareErrorMessage" class="error-message">{{ modal.shareErrorMessage }}</div><form ng-submit="modal.onSubmitShareForm()" class="share-form"><label>Email<input ng-model="modal.recipientEmail" placeholder="email@example.com" autofocus ng-disabled="modal.shareLoading || modal.showSuccessState"></label><pill-button text="Share" shape="round" color="blue" on-click="modal.onSubmitShareForm()" loading="modal.shareLoading" is-disabled="modal.shareLoading || modal.showSuccessState" class="share-button"></pill-button><div ng-if="modal.showSuccessState" ng-click="modal.onClickDismissSuccess()" class="success"><div class="message"><strong>Shared with {{ modal.recipientEmail }}</strong><span>A link has been sent so they can access the card</span></div><svg-icon icon="tick"></svg-icon></div></form><div ng-class="{ \'-loading\': modal.recipientListLoading }" class="recipient-list"><spinner ng-if="modal.recipientListLoading" loading="true" size="small"></spinner><div class="title">Shared With</div><div ng-if="modal.recipientList.length === 0" class="zero-state">People you share this card with will be listed here.</div><div ng-repeat="recipient in modal.recipientList" class="recipient">{{ recipient.email }}<svg-icon ng-if="!recipient.reshareState" ng-click="modal.onClickReshare(recipient)" icon="refresh" class="reshare-button -resharing"></svg-icon><svg-icon ng-if="recipient.reshareState === \'loading\'" icon="refresh" class="reshare-button -loading"></svg-icon><svg-icon ng-if="recipient.reshareState === \'success\'" icon="tick" class="reshare-button -success"></svg-icon></div></div></div></div></div>');
a.put("components/modal-tfa/modal-tfa.html",'<div class="modal-overlay"><div ng-click="modal.closeModal()" class="backdrop"></div><div class="content"><div class="modal-tfa"><div class="title">Confirm</div><tfa-form on-submit="modal.onTFASubmit" remember-device="modal.rememberDevice" tfa-response="modal.tfaResponse"></tfa-form></div></div></div>');a.put("components/pill-button/pill-button.html",'<div class="pill-button"><a ng-click="Button.onButtonPress()" ng-class="[Button.classList,             { \'-icon-only\': !Button.text &amp;&amp; !Button.boundText &amp;&amp; Button.icon },             { \'-loading\': Button.loading },             { \'-dropdown-only\': Button.dropdown &amp;&amp; !Button.text &amp;&amp; !Button.boundText &amp;&amp; !Button.icon },             { \'-disabled\': Button.isDisabled },             { \'-success\': Button.success}]" ng-href="{{ Button.href }}" target="{{ Button.target }}" ng-disabled="Button.isDisabled" tabindex="0"><img alt="" ng-show="Button.image" ng-src="{{ Button.image }}" width="{{ Button.imageWidth }}"><svg-icon ng-if="Button.icon &amp;&amp; !Button.loading" icon="{{ Button.icon }}" size="{{ Button.iconSize }}" class="main-icon"></svg-icon><span ng-if="Button.text" ng-class="{ \'_vis-hid\': Button.loading }" class="text">{{ Button.text }}</span><span ng-if="Button.count &amp;&amp; Button.count &gt; 0" class="count">{{ Button.noMaxCount ? Button.count : Button.count > 99 ? \'99+\' : Button.count }}</span><svg-icon ng-if="Button.dropdown &amp;&amp; !Button.loading &amp;&amp; Button.dropdownIcon !== false" icon="caret-down" class="dropdown-icon"></svg-icon><spinner loading="Button.loading" color="white" size="small"></spinner></a><input type="submit" tabindex="-1"></div>');
a.put("components/privacy-card/privacy-card.html",'<div ng-class="{        \'-new\': !PrivacyCard.card.PAN,        \'-preview\': PrivacyCard.preview,        \'-custom\': PrivacyCard.card.type === \'MERCHANT_LOCKED\' &amp;&amp; PrivacyCard.card.style,        \'-light\': PrivacyCard.card.type === \'MERCHANT_LOCKED\' &amp;&amp; !PrivacyCard.card.style.bgColor,        \'-paused\': PrivacyCard.card.state === \'PAUSED\',        \'-view-edit\': PrivacyCard.view === \'edit\',        \'-burner\': PrivacyCard.card.type === \'SINGLE_USE\',        \'-unlocked\': PrivacyCard.card.type === \'UNLOCKED\',        \'-closed\': PrivacyCard.card.state === \'CLOSED\',        \'-digital-wallet\': PrivacyCard.card.type === \'DIGITAL_WALLET\',        \'-show-controls-on-hover\': PrivacyCard.showControlsOnHover}" ng-style="PrivacyCard.card.style.bgColor &amp;&amp; PrivacyCard.card.type === \'MERCHANT_LOCKED\' &amp;&amp; {        \'background-color\': \'#\' + PrivacyCard.card.style.bgColor,        \'box-shadow\': \'none\' }" class="privacy-card"><div ng-if="PrivacyCard.showFirstHelper &amp;&amp; PrivacyCard.preview" class="first-card">Take a look at your first virtual card before you continue getting started!</div><div ng-style="PrivacyCard.card.type === \'MERCHANT_LOCKED\' ? { \'box-shadow\': \'0 10px 20px #\' + PrivacyCard.card.style.bgColor } : {} " class="shadow"></div><div ng-show="PrivacyCard.card.type === \'DIGITAL_WALLET\'" class="card-logo -digital-wallet"></div><div ng-show="PrivacyCard.card.type === \'SINGLE_USE\'" class="card-logo -burner"></div><div ng-show="PrivacyCard.card.style || PrivacyCard.card.style.icon" style="background-image: url(\'{{getLogoSrc(PrivacyCard.card)}}\')" class="card-logo -merchant"><div class="icon">{{PrivacyCard.card.style.icon}}</div></div><div ng-show="PrivacyCard.card.promoCredit &gt; 0 &amp;&amp; PrivacyCard.preview" class="card-credit">{{ PrivacyCard.card.formattedPromoCredit }} Credit</div><div ng-show="PrivacyCard.showMemo || PrivacyCard.preview" title="{{ PrivacyCard.card.memo || PrivacyCard.card.hostname }}" class="card-name"><div ng-if="PrivacyCard.card.unused" tooltip="This card hasn\'t been used" tooltip-options="{ color: \'blue\', margin: \'15px\' }" class="unused-indicator"></div>{{ PrivacyCard.card.memo || PrivacyCard.card.hostname || (PrivacyCard.card.type === \'SINGLE_USE\' ? \'New Burner\' : \'New Card\') }}</div><input value="{{ PrivacyCard.card.PAN }}" pwp-click-to-copy="pwp-click-to-copy" ng-class="{ \'-selectable\': PrivacyCard.card.PAN }" ng-disabled="!PrivacyCard.card.PAN" class="card-pan"><input value="{{ PrivacyCard.card.panWithSpaces || \'---- ---- ---- ----\' }}" class="card-pan -with-spaces"><div ng-show="PrivacyCard.card.panLast4" class="card-pan-last-4">{{ PrivacyCard.card.panLast4 || \'----\' }}</div><div class="card-exp">{{ PrivacyCard.card.expMonth || \'--\' }}/{{ PrivacyCard.card.expYear[2] + PrivacyCard.card.expYear[3] || \'--\' }}</div><div class="card-cvv">{{ PrivacyCard.card.CVV || \'--\' }}</div><div ng-class="PrivacyCard.getNetworkLogo()" class="card-network"></div><div ng-show="PrivacyCard.card.state !== \'CLOSED\' &amp;&amp; PrivacyCard.card.cardID" class="card-controls"><div ng-if="PrivacyCard.card.reloadable === true &amp;&amp; PrivacyCard.card.type !== \'DIGITAL_WALLET\'" ng-click="PrivacyCard.onClickCustomize($event)" class="customize"><svg-icon icon="paint-roller"></svg-icon></div><div ng-if="PrivacyCard.card.state === \'PAUSED\'" ng-click="PrivacyCard.onClickResume($event)" class="pause-play"><svg-icon icon="play"></svg-icon></div><div ng-if="PrivacyCard.card.state === \'OPEN\'" ng-click="PrivacyCard.onClickPause($event)" class="pause-play"><svg-icon icon="pause"></svg-icon></div><div ng-click="PrivacyCard.onClickConfirmClose($event)" class="close"><svg-icon icon="trash"></svg-icon></div></div><pill-button icon="pencil" text="Change Merchant" color="shadow-white" size="small" ng-show="PrivacyCard.allowChangeMerchant &amp;&amp; PrivacyCard.card.type !== \'SINGLE_USE\'" ng-click="PrivacyCard.onClickChangeMerchant()" class="change-merchant"></pill-button></div>');
a.put("components/privacy-logo/privacy-logo.html",'<a ng-href="{{ href }}" target="_self" ng-class="{        \'-square\' : shape === \'square\',        \'-circle\' : shape === \'circle\',        \'-light\' : colorScheme === \'light\',        \'-small\' : size === \'small\',        \'-large\' : size === \'large\',    }" ng-switch="shape" class="privacy-logo"><svg ng-switch-when="square" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 80 80"><path d="M80 0v80H0V0h80zM39.12 20.002H24v40.092h8.591V46.921h6.53c11.53 0 17.296-4.487 17.296-13.46s-5.765-13.46-17.296-13.46zm.401 7.56c5.422 0 8.133 1.967 8.133 5.9 0 3.932-2.71 5.899-8.133 5.899h-6.93V27.562z" fill="#000" fill-rule="evenodd"></svg><svg ng-switch-when="circle" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 80 80"><path d="M40 0c22.092 0 40.001 17.909 40.001 40s-17.909 40-40 40C17.909 80 0 62.091 0 40S17.909 0 40 0zm.936 20.313H25.782v40.025h8.61V47.185h6.544c11.557 0 17.335-4.479 17.335-13.437 0-8.958-5.778-13.437-17.335-13.437zm.402 7.547c5.434 0 8.15 1.963 8.15 5.89 0 3.926-2.716 5.889-8.15 5.889h-6.946V27.86z" fill="#000" fill-rule="evenodd"></svg><svg ng-switch-default xmlns="http://www.w3.org/2000/svg" viewbox="0 0 320 80"><path d="M320 0v80H0V0h320zm-80.81 19.2c-2.75 0-5.384.43-7.904 1.289a21.718 21.718 0 0 0-6.844 3.808c-2.043 1.68-3.685 3.924-4.926 6.73-1.24 2.807-1.861 5.966-1.861 9.48 0 3.36.62 6.376 1.861 9.049 1.241 2.672 2.902 4.81 4.983 6.414a23.286 23.286 0 0 0 6.902 3.666c2.52.84 5.154 1.26 7.904 1.26 4.2 0 8.075-.86 11.626-2.577v-8.42c-2.443 2.215-5.88 3.322-10.31 3.322-1.794 0-3.522-.258-5.182-.773a15.242 15.242 0 0 1-4.525-2.262c-1.356-.993-2.434-2.32-3.236-3.981-.802-1.66-1.203-3.56-1.203-5.699 0-4.505 1.384-7.913 4.152-10.223 2.769-2.31 6.1-3.465 9.995-3.465 3.97 0 7.312 1.05 10.023 3.15v-8.19c-3.437-1.719-7.255-2.578-11.455-2.578zm-196.07.802H28v40.092h8.591V46.921h6.53c11.53 0 17.296-4.487 17.296-13.46s-5.765-13.46-17.296-13.46zm43.54 0H70.163v40.092h8.591V46.062h6.3l10.826 14.032h9.908l-11.97-15.12c5.842-1.871 8.763-5.842 8.763-11.914 0-2.443-.449-4.543-1.346-6.3-.898-1.756-2.138-3.112-3.723-4.066a17.538 17.538 0 0 0-5.04-2.062c-1.776-.42-3.714-.63-5.814-.63zm36.55 0h-8.59v40.092h8.59V20.002zm18.742 0h-9.279l15.579 40.092h8.82l15.636-40.092h-9.278l-10.768 30.012-10.71-30.012zm55.763 0h-9.278l-16.381 40.092h8.878l2.978-7.503h18.328l2.92 7.503h8.878l-16.323-40.092zm69.005 0h-9.68l15.694 25.888v14.204h8.534V45.89l15.636-25.888h-9.68l-10.252 17.984-10.252-17.984zm-73.644 7.961c.19 1.031.477 2.081.859 3.15l5.613 14.376h-12.944l5.555-14.376c.382-.916.688-1.966.917-3.15zm-149.555-.4c5.422 0 8.133 1.966 8.133 5.898 0 3.933-2.71 5.9-8.133 5.9h-6.93V27.562zm43.54 0c1.985 0 3.608.457 4.868 1.374 1.26.916 1.89 2.348 1.89 4.295 0 1.91-.64 3.332-1.919 4.267-1.28.936-2.892 1.404-4.84 1.404h-8.305v-11.34z" fill="#000" fill-rule="evenodd"></svg></a>');
a.put("components/promo-bubble/promo-bubble.html",'<div class="promo-bubble"><svg-icon icon="bubble-tail" ng-style="{ \'fill\' : \'#\' + color}"></svg-icon><div ng-style="{ \'background-color\': \'#\' + color}" ng-class="{\'-light-text\' : color} " ng-bind-html="message" class="bubble-body"></div></div>');a.put("components/pwp-bank-img/pwp-bank-img.html",'<div class="pwp-bank-img"><img ng-if="BankImg.bankSrc" pwp-cdn-img="BankImg.bankSrc" pwp-cdn-img-fallback="BankImg.fallbackSrc" width="{{BankImg.width}}" height="{{BankImg.height}}"></div>');
a.put("components/search-input/search-input.html",'<div class="search-input"><input type="text" placeholder="{{ Search.placeholder }}" ng-model="Search.viewQuery" ng-change="Search.onChangeHandler($event)"><svg-icon icon="magnifier"></svg-icon></div>');a.put("components/spending-graph/spending-graph.html",'<div id="spending-graph-component" class="spending-graph"><highchart id="spending-barchart" config="spendingGraph.chartConfig"></highchart></div>');a.put("components/spinner/spinner.html",'<div ng-show="loading" ng-class="{         \'-white\': color === \'white\',         \'-small\': size === \'small\' }" class="spinner"><div ng-show="text" class="text">{{ text }}</div></div>');
a.put("components/svg-icon/svg-icon.html",'<div ng-class="[SvgIcon.getClassList()]" class="svg-icon"></div>');a.put("components/tfa-form/tfa-form.html",'<form name="tfaForm" ng-submit="TFA.onSubmit(tfaForm, { tfaResponse: TFA.tfaResponse, rememberDevice: TFA.rememberDevice })" tabindex="1" class="auth-form -login -tfa"><div class="explanation">{{ TFA.explanation }}</div><label class="-titled -user"><div class="label-text">{{ TFA.header }}</div><input type="text" name="tfaResponse" placeholder="000000" tabindex="1" autocomplete="off" required autofocus maxlength="6" pattern="^[0-9]{6}$" ng-model="TFA.tfaResponse" class="text-input -tfa"></label><label class="-user -checkbox -small"><input type="checkbox" name="rememberDevice" tabindex="2" ng-model="TFA.rememberDevice">Remember this device for 30 days</label><input type="submit" ng-hide="true"><button style="visibility:hidden;position:absolute;pointer-events:none"></button><div class="form-controls"><pill-button icon="arrow-left" color="transparent" size="small" tabindex="4" ng-hide="!TFA.onPressBack" ng-click="TFA.onPressBack()" class="back"></pill-button><pill-button size="small" text="Authenticate" loading="loading" on-click="TFA.onSubmit(tfaForm, { tfaResponse: TFA.tfaResponse, rememberDevice: TFA.rememberDevice })"></pill-button></div></form>');
a.put("components/toggle-switch/toggle-switch.html","<div ng-class=\"['-color-' + Switch.color, { '-on': Switch.value }, '-size-' + Switch.size]\" ng-click=\"Switch.onClickHandler()\" class=\"toggle-switch\"></div>");a.put("components/tooltip/tooltip.html",'<div ng-class="[ \'-\' + state, \'-\' + position, \'-\' + color, { \'-interactive\': Tooltip.options.button }]" ng-style="margin !== null &amp;&amp; margin !== false &amp;&amp; { \'padding\': margin }" class="tooltip"><div class="body"><div class="callout"><svg width="24" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M23.657 0H42h-60H.343a4 4 0 0 1 2.829 1.172l7.414 7.414a2 2 0 0 0 2.828 0l7.414-7.414A4 4 0 0 1 23.657 0z" fill="#000" fill-rule="evenodd"></svg></div><div ng-style="width &amp;&amp; { \'width\': width }" class="content"><div ng-if="Tooltip.options.title" class="title">{{ Tooltip.options.title }}</div><div ng-if="!Tooltip.options.contentTemplate" class="text">{{ Tooltip.options.body || Tooltip.tooltip }}</div><div ng-if="Tooltip.options.contentTemplate" ng-include="Tooltip.options.contentTemplate" class="template"></div></div><div ng-if="Tooltip.options.button.text" class="actions"><pill-button text="{{ Tooltip.options.button.text }}" color="{{ Tooltip.options.button.color }}" size="{{ Tooltip.options.button.size || \'small\' }}" width="{{ Tooltip.options.button.width }}" ng-click="Tooltip.options.button.onClick()"></pill-button></div></div></div>');
a.put("components/transaction-inspector/transaction-inspector.html",'<div class="transaction-inspector"><div ng-title="Transaction.details.descriptor" ng-class="{ \'-dispute-open\': Transaction.details.state === \'DISPUTE_OPEN\' || Transaction.details.state === \'DISPUTE_PENDING\' || Transaction.details.state === \'CHARGEBACK_PENDING\' }" class="title"><svg-icon icon="chevron-left" ng-show="Transaction.onPressBack" ng-click="Transaction.onPressBack()" class="back-button"></svg-icon><div class="descriptor">{{ Transaction.details.descriptor }}</div></div><ul class="details"><li ng-class="{                \'-unconfirmed\': Transaction.details.state === \'ACTIVE\' &amp;&amp; !Transaction.details.dateSettled,                \'-settling\':    Transaction.details.state === \'ACTIVE\' &amp;&amp; Transaction.details.dateSettled,                \'-blocked\':     !Transaction.details.accepted,                \'-disputed\':    Transaction.details.state === \'DISPUTE_OPEN\' || Transaction.details.state === \'DISPUTE_PENDING\' || Transaction.details.state === \'CHARGEBACK_PENDING\',                \'-refunded\':    Transaction.details.state === \'DISPUTE_CLOSED\' || Transaction.details.amount &lt; 0,                \'-bounced\':     Transaction.details.settlementStatus === \'Bounced\'             }" class="total"><span class="label">Total</span><span ng-if="Transaction.details.promoCreditAmount" class="value -before"><dollar-amount amount="Transaction.details.amount" transaction="true"></dollar-amount></span><span ng-if="Transaction.details.promoCreditAmount" class="value -promo"><dollar-amount amount="Transaction.details.amountAfterCredit"></dollar-amount></span><span ng-if="!Transaction.details.promoCreditAmount" class="value"><dollar-amount amount="Transaction.details.amount" transaction="true"></dollar-amount></span></li><li ng-if="Transaction.details.currencyCode !== \'USD\'"><span class="label">Local Amount</span><span class="value">{{ Transaction.details.acquiringAmount | pwpParseDollarAmount : Transaction.details.acquiringAmountDecimalPlaces : (Transaction.details.currencyCode | parseCurrencyCode) }}</span></li><li ng-if="Transaction.details.cashback &amp;&amp; Transaction.details.cashback &gt; 0"><span class="label">Cashback</span><dollar-amount amount="Transaction.details.cashback"></dollar-amount></li><li ng-if="Transaction.details.promoCreditAmount"><span class="label">Credit Applied</span><span class="value -credit-applied">{{ Transaction.details.promoCreditAmount | pwpParseDollarAmount }}</span></li><li ng-if="Transaction.details.state"><span class="label">Status</span><span ng-show="Transaction.details.state === \'ACTIVE\' || Transaction.details.state === \'DISPUTE_APPROVED\'" class="value">{{ Transaction.details.settlementStatus | shortSettlementStatus }}</span><span ng-show="Transaction.details.state === \'DISPUTE_OPEN\' || Transaction.details.state === \'DISPUTE_PENDING\'" class="value -dispute-open">Dispute Open</span><span ng-show="Transaction.details.state === \'CHARGEBACK_PENDING\'" class="value -chargeback-pending">Chargeback Pending</span><span ng-show="Transaction.details.state === \'DISPUTE_CLOSED\'" class="value">Dispute Closed</span></li><li><span class="label">Authorized</span><span class="value">{{ (Transaction.details.dateAuthorized ? Transaction.details.dateAuthorized : Transaction.details.dateSettled) | date : "MMM d, yyyy, h:mma" }}</span></li><li ng-if="Transaction.details.accepted &amp;&amp; Transaction.details.achReceived"><span class="label">Funded on</span><span ng-show="Transaction.details.achReceived" class="value -expected">{{ Transaction.details.achReceived | date : \'MMM d, yyyy\' }}</span></li><li ng-if="Transaction.details.accepted &amp;&amp; Transaction.details.fundingAccount &amp;&amp; Transaction.details.fundingBank" class="funding-source"><span class="label">Bank</span><span class="value"><bank-img bank="Transaction.details.fundingBank"></bank-img>{{ Transaction.details.fundingAccount}}</span></li><li ng-if="debug"><span class="label">Authorization ID</span><span class="value">{{ getAuthorizationID(Transaction.details) }}</span></li><li ng-if="Transaction.card"><span class="label">Card used</span><a class="value">{{ Transaction.card.memo || Transaction.card.hostname }}</a></li></ul><div class="options"><pill-button text="Open Dispute" color="transparent" size="small" ng-show="Transaction.showDisputeModal &amp;&amp; Transaction.transaction.state !== \'DISPUTE_OPEN\' &amp;&amp; Transaction.transaction.dateSettled" ng-click="Transaction.showDisputeModal(Transaction.transaction);"></pill-button><pill-button text="Close Dispute" color="transparent" size="small" ng-show="Transaction.closeTransactionDispute &amp;&amp; Transaction.transaction.state === \'DISPUTE_OPEN\'" ng-click="Transaction.closeTransactionDispute(Transaction.transaction)"></pill-button><pill-button text="Hide Transaction" color="transparent" size="small" ng-show="!Transaction.preventHideTransaction &amp;&amp; Transaction.hideTransaction" ng-click="Transaction.hideTransaction(Transaction.transaction)"></pill-button></div></div>');
a.put("components/transaction-list/transaction-list.html",'<div ng-class="{        \'-descriptor\' : !TransactionList.hideColumns.descriptor,        \'-date\' : !TransactionList.hideColumns.date,        \'-settlement\' : !TransactionList.hideColumns.settlement,        \'-amount\' : !TransactionList.hideColumns.amount,        \'-decline-reason\' : !TransactionList.hideColumns.declineReason    }" class="transaction-list"><div ng-show="!(TransactionList.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields).length &amp;&amp; !TransactionList.loading" class="zero-state">{{(!TransactionList.filterText || !TransactionList.filterText.length) ? \'No transactions\' : \'No transactions found\'}}</div><div ng-repeat="transaction in TransactionList.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields | limitTo:TransactionList.limit" ng-hide="TransactionList.showDateBuckets" ng-click="TransactionList.onClickTransaction(transaction)" ng-class="{            \'-unconfirmed\': transaction.state === \'ACTIVE\' &amp;&amp; !transaction.dateSettled,            \'-settling\':    transaction.state === \'ACTIVE\' &amp;&amp; transaction.dateSettled,            \'-blocked\':     !transaction.accepted,            \'-disputed\':    transaction.state === \'DISPUTE_OPEN\' || transaction.state === \'DISPUTE_PENDING\' || transaction.state === \'CHARGEBACK_PENDING\',            \'-refunded\':    transaction.state === \'DISPUTE_CLOSED\' || transaction.amount &lt; 0,            \'-offset\':      transaction.achResult == -2,            \'-bounced\':     transaction.settlementStatus === \'BOUNCED\',            \'-promo\':       transaction.promoCreditAmount        }" class="transaction"><div class="left"><div ng-if="!TransactionList.hideColumns.date" class="date">{{ ((transaction.dateAuthorized || transaction.dateSettled) | date: \'MMM d, h:mma\').toLowerCase() }}</div><div ng-if="!TransactionList.hideColumns.descriptor" ng-attr-title="transaction.descriptor" class="descriptor">{{ transaction.descriptor.toLowerCase() }}</div></div><div class="right"><div ng-if="!transaction.promoCreditAmount &amp;&amp; !TransactionList.hideColumns.amount" class="amount"><dollar-amount amount="transaction.amount" transaction="true"></dollar-amount></div><div ng-if="transaction.promoCreditAmount &amp;&amp; !TransactionList.hideColumns.amount" class="amount"><dollar-amount amount="TransactionList.getPromoTransactionAmount(transaction)"></dollar-amount></div><div ng-if="!TransactionList.hideColumns.settlement &amp;&amp; !transaction.declineReason &amp;&amp; transaction.accepted" ng-class="{ \'-settled\': transaction.settlementStatus === \'SETTLED\' }" class="settlement"><pwp-bank-img ng-show="transaction.settlementStatus !== \'SETTLED\' &amp;&amp; transaction.achResult != -2" bank="transaction.fundingBank" width="20"></pwp-bank-img>{{ transaction.settlementStatus | shortSettlementStatus }}</div></div><div ng-if="transaction.declineReason &amp;&amp; !TransactionList.hideColumns.declineReason" class="decline-reason">{{ transaction.declineReason | parseDeclineReason }}</div></div><div ng-repeat="dateBucket in TransactionList.dateBuckets track by dateBucket.id" ng-hide="!TransactionList.showDateBuckets || !(dateBucket.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields).length" class="date-bucket"><div class="title">{{ dateBucket.title }}</div><div ng-repeat="transaction in dateBucket.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields" ng-click="TransactionList.onClickTransaction(transaction)" ng-class="{                \'-unconfirmed\': transaction.state === \'ACTIVE\' &amp;&amp; !transaction.dateSettled,                \'-settling\':    transaction.state === \'ACTIVE\' &amp;&amp; transaction.dateSettled,                \'-blocked\':     !transaction.accepted,                \'-disputed\':    transaction.state === \'DISPUTE_OPEN\' || transaction.state === \'DISPUTE_PENDING\' || transaction.state === \'CHARGEBACK_PENDING\',                \'-refunded\':    transaction.state === \'DISPUTE_CLOSED\' || transaction.amount &lt; 0,                \'-offset\':      transaction.achResult == -2,                \'-bounced\':     transaction.settlementStatus === \'BOUNCED\',                \'-promo\':       transaction.promoCreditAmount            }" class="transaction"><div class="left"><div ng-if="!TransactionList.hideColumns.date" class="date">{{ ((transaction.dateAuthorized || transaction.dateSettled) | date: \'MMM d, h:mma\').toLowerCase() }}</div><div ng-if="!TransactionList.hideColumns.descriptor" ng-attr-title="transaction.descriptor" class="descriptor">{{ transaction.descriptor.toLowerCase() }}</div></div><div class="right"><div ng-if="!transaction.promoCreditAmount &amp;&amp; !TransactionList.hideColumns.amount" class="amount"><dollar-amount amount="transaction.amount" transaction="true"></dollar-amount></div><div ng-if="transaction.promoCreditAmount &amp;&amp; !TransactionList.hideColumns.amount" class="amount"><dollar-amount amount="TransactionList.getPromoTransactionAmount(transaction)"></dollar-amount></div><div ng-if="!TransactionList.hideColumns.settlement &amp;&amp; !transaction.declineReason &amp;&amp; transaction.accepted" ng-class="{ \'-settled\': transaction.settlementStatus === \'SETTLED\' }" class="settlement"><pwp-bank-img ng-show="transaction.settlementStatus !== \'SETTLED\' &amp;&amp; transaction.achResult != -2" bank="transaction.fundingBank" width="20"></pwp-bank-img>{{ transaction.settlementStatus | shortSettlementStatus }}</div></div><div ng-if="transaction.declineReason &amp;&amp; !TransactionList.hideColumns.declineReason" class="decline-reason">{{ transaction.declineReason | parseDeclineReason }}</div></div></div><div ng-if="TransactionList.paginate &amp;&amp; !TransactionList.infiniteScroll &amp;&amp; (TransactionList.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields).length" class="pagination-controls"><pill-button text="Show Fewer" color="grey-lighter" ng-if="TransactionList.limit &gt; TransactionList.initialLimit &amp;&amp; (TransactionList.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields).length &gt; TransactionList.initialLimit" ng-click="TransactionList.resetLimit()"></pill-button><pill-button text="Show More" color="grey-lighter" ng-if="(TransactionList.transactions | filterByFields:TransactionList.filterText:TransactionList.filterFields).length &gt; TransactionList.limit" ng-click="TransactionList.incrementLimit()"></pill-button></div><spinner loading="TransactionList.loading"></spinner></div>')}]);
